@using System.Web.Optimization
@using banhang24.Hellper;
@using Model;
@using banhang24.AppCache
@model banhang24.Models.NhanVienRoleModel
@{
    Layout = null;
    //ViewBag.Title = "Open24.vn - Quản lý nhân viên";
}
@Html.Hidden("IsOpenHRM", Model.IsHRM, new { @id = "IsOpenHRM" })
@Html.Hidden("RolePhongBan_Delete", Model.RolePhongBan_Delete == true ? 1 : 0, new { @id = "RolePhongBan_Delete" })
@Html.Hidden("RoleLoaiLuong_Insert", Model.RoleLoaiLuong_Insert == true ? 1 : 0, new { @id = "RoleLoaiLuong_Insert" })
@Html.Hidden("RolePhongBan_Update", Model.RolePhongBan_Update == true ? 1 : 0, new { @id = "RolePhongBan_Update" })
@Html.Hidden("RoleLoaiLuong_Update", Model.RoleLoaiLuong_Update == true ? 1 : 0, new { @id = "RoleLoaiLuong_Update" })
@Html.Hidden("RoleLoaiLuong_Delete", Model.RoleLoaiLuong_Delete == true ? 1 : 0, new { @id = "RoleLoaiLuong_Delete" })
<style>
    #treePhongBan1 list-group-item.active .display:after {
        content: '\f0da';
        font-family: FontAwesome;
    }
</style>
<head>
    <link type="text/css" rel="stylesheet" href="~/Content/Nhansu2.css" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Nhân Viên</title>
</head>
<style>
    .filter-list-2 {
        width: 376px;
    }

        .filter-list-2 > ul {
            width: 376px;
        }

            .filter-list-2 > ul > li {
                width: 183px;
            }
</style>
@*<link href="~/Content/js/Datetime/jquery.datetimepicker.css" rel="stylesheet" />*@
<div class="op-container">
    <div class="container-fluid nopadding ">
        <div class="col-left">
            <div class="op-filter">
                <section class="op-filter-body" id="filter-nv">
                    @if (Model.IsHRM)
                    {
                        <article class="boxLeft">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="/Content/images/icon/Iconbanhanggg-02.png">   Phòng ban

                            </h3>
                            @if (Model.RolePhongBan_Insert)
                            {
                                <button class="op-filter-add op-js-themmoinhomhang" title="Thêm mới phòng ban" data-bind="click:ShowPopupPhongban">
                                    <i class="fa fa-plus" style="color: var(--color-primary)"></i>
                                </button>
                            }
                            <aside class="op-filter-container">
                                <div class="seach-nhomhang floatleft" style="position:relative">
                                    <input type="text" class="dropdown" id="txtSearchPB1" data-bind="value:searchPB" placeholder="Tìm kiếm phòng ban" style="border-bottom:1px solid #ccc">
                                    <i class="fa fa-search" style="position:absolute;left:5px; top:7px;"></i>
                                </div>
                                <div class="treename yellow" data-bind="click:selectAllPhongBan">
                                    Tất cả
                                </div>
                                <div id="treePhongBan1"></div>
                                <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/gioi-tinh.png" />    Giới tính
                            </h3>
                            <aside class="op-filter-container">
                                <div class="menuRadio" id="GioiTinhSL">
                                    <ul class="list-inline left5">
                                        <li>
                                            <a href="javascript:void(0)" data-id="">
                                                <label>
                                                    <input type="radio" name="gioitinh" checked>
                                                    Tất cả
                                                </label>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0)" data-id="@true">
                                                <label>
                                                    <input type="radio" name="gioitinh">
                                                    Nam
                                                </label>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0)" data-id="@false">
                                                <label>
                                                    <input type="radio" name="gioitinh">
                                                    Nữ
                                                </label>
                                            </a>
                                        </li>
                                    </ul>
                                </div> <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/hop-dong.png" />   Loại hợp đồng
                            </h3>
                            <aside class="op-filter-container">
                                <div class="outselect ">
                                    <div class=" choose-person floatleft " data-toggle="dropdown" aria-expanded="false">
                                        <ul data-bind="foreach: ListLoaiHopDong_filter_computed">
                                            <li class="li-input-span">
                                                <span data-bind="text: Name">Ssoft</span>
                                                <span data-bind="click: $parent.RemoveLoaiHopDong_FIlter">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown">
                                    </div>
                                    <div class="selec-person dropdown-menu" hidden>
                                        <ul data-bind="foreach: ListLoaiHopDong_filter">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedLoaiHopDong">
                                                <span data-bind="text: Name "></span>
                                                <i class="fa fa-check check-after-li" data-bind="visible: IsSelected==true"></i>
                                            </li>
                                        </ul>
                                    </div>
                                </div> <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/thuong-tru.png" />   Thường trú
                            </h3>
                            <aside class="op-filter-container">
                                <select class="form-control margin-botton-15" id="hk_tinhthanh_filter">
                                    <option value="">--- Chọn tỉnh thành ---</option>
                                    <!--ko foreach: HK_TinhThanhFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <select class="form-control margin-botton-15" id="hk_quanhuyen_filter">
                                    <option value="">--- Chọn quận huyện ---</option>
                                    <!--ko foreach: HK_QuanHuyenFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <select class="form-control" id="hk_xaphuong_filter">
                                    <option value="">--- Chọn xã phường ---</option>
                                    <!--ko foreach: HK_XaPhuongFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/tam-tru.png" />   Tạm trú
                            </h3>
                            <aside class="op-filter-container">
                                <select class="form-control margin-botton-15" id="tt_tinhthanh_filter">
                                    <option value="">--- Chọn tỉnh thành ---</option>
                                    <!--ko foreach: TT_TinhThanhFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <select class="form-control margin-botton-15" id="tt_quanhuyen_filter">
                                    <option value="">--- Chọn quận huyện ---</option>
                                    <!--ko foreach: TT_QuanHuyenFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <select class="form-control" id="tt_xaphuong_filter">
                                    <option value="">--- Chọn xã phường ---</option>
                                    <!--ko foreach: TT_XaPhuongFilter -->
                                    <option data-bind="value:Key,text:Value"></option>
                                    <!--/ko-->
                                </select>
                                <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/sinhnhat.png" />   Sinh nhật
                            </h3>
                            <aside class="op-filter-container">
                                <div class="menuCheckbox" id="SinhNhatSL">
                                    <div class="form-group floatleft">
                                        <div class="radio-menu">
                                            <input type="radio" name="sinhnhat" data-id="1" checked />
                                        </div>
                                        <div class="conten-choose">
                                            <div class=" choose-date ">
                                                <div data-toggle="dropdown" aria-expanded="true">
                                                    <input type="text" class="dropdown form-control choose-date-show" data-bind="value:TextBirthDate">
                                                </div>
                                                <div class="dropdown-menu " id="SelectNgaySinh">
                                                    <div class="col-md-4 col-sm-4">
                                                        <h3>Theo ngày và tuần</h3>
                                                        <ul>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.homnay)"><a href="javascript:void(0);">hôm nay</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.homqua)"><a href="javascript:void(0);">hôm qua</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.tuannay)"><a href="javascript:void(0);">Tuần này</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.tuantruoc)"><a href="javascript:void(0);">Tuần trước</a></li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-md-4 col-sm-4">
                                                        <h3>Theo tháng và quý</h3>
                                                        <ul>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.thangnay)"><a href="javascript:void(0);">Tháng này</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.thangtruoc)"><a href="javascript:void(0);">Tháng trước</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.quynay)"><a href="javascript:void(0);">Quý này</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.quytruoc)"><a href="javascript:void(0);">Quý trước</a></li>
                                                        </ul>
                                                    </div><div class="col-md-4 col-sm-4">
                                                        <h3>Theo năm</h3>
                                                        <ul>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.namnay)"><a href="javascript:void(0);">Năm này</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.namtruoc)"><a href="javascript:void(0);">Năm trước</a></li>
                                                            <li value="@((int)commonEnumHellper.TypeBirthDay.toanthoigian)"><a href="javascript:void(0);">Toàn thời gian</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group floatleft">
                                        <div class="radio-menu">
                                            <input type="radio" name="sinhnhat" data-id="0" />
                                        </div>
                                        <div class="conten-choose">
                                            <div class="floatleft form-wrap ">
                                                <input type='text' class="form-control daterange newDateTime" disabled
                                                       placeholder="Lựa chọn khác" name="daterange" />
                                            </div>
                                        </div>
                                    </div>
                                </div>  <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/chinh-tri.png" />   Thông tin chính trị
                            </h3>
                            <aside class="op-filter-container">
                                <div class="outselect ">
                                    <div class=" choose-person floatleft " data-toggle="dropdown" aria-expanded="false">
                                        <ul data-bind="foreach: ListChinhTri_filter_computed">
                                            <li class="li-input-span">
                                                <span data-bind="text: Name">Ssoft</span>
                                                <span data-bind="click: $parent.RemoveChinhTri_FIlter">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown">
                                    </div>
                                    <div class="selec-person dropdown-menu">
                                        <ul data-bind="foreach: ListChinhTri_filter">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedChinhTri">
                                                <span data-bind="text: Name "></span>
                                                <i class="fa fa-check check-after-li" data-bind="visible: IsSelected==true"></i>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/bao-hiem.png" />   Thông tin bảo hiểm
                            </h3>
                            <aside class="op-filter-container">
                                <div class="outselect ">
                                    <div class=" choose-person floatleft " data-toggle="dropdown" aria-expanded="false">
                                        <ul data-bind="foreach: ListBaoHiem_filter_computed">
                                            <li class="li-input-span">
                                                <span data-bind="text: Name">Ssoft</span>
                                                <span data-bind="click: $parent.RemoveLOaiBaoHien_FIlter">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown ">
                                    </div>
                                    <div class="selec-person dropdown-menu">
                                        <ul data-bind="foreach: ListBaoHiem_filter">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedLoaiBaoHiem">
                                                <span data-bind="text: Name "></span>
                                                <i class="fa fa-check check-after-li" data-bind="visible: IsSelected==true"></i>
                                            </li>
                                        </ul>
                                    </div>
                                </div>  <hr />
                            </aside>
                        </article>
                        <article class="boxLeft sortTime">
                            <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                                <img src="~/Content/images/icon/dan-toc.png" />   Dân tộc
                            </h3>
                            <aside class="op-filter-container">
                                <div class="outselect">
                                    <div class=" choose-person floatleft " data-toggle="dropdown" aria-expanded="false">
                                        <ul data-bind="foreach: ListDanToc_filter_computed">
                                            <li class="li-input-span">
                                                <span data-bind="text: Name">Ssoft</span>
                                                <span data-bind="click: $parent.RemoveDanToc_FIlter">
                                                    <i class="fa fa-times"></i>
                                                </span>
                                            </li>
                                        </ul>
                                        <input type="text" class="dropdown ">
                                    </div>
                                    <div class="selec-person dropdown-menu">
                                        <ul data-bind="foreach: ListDanToc_filter">
                                            <li data-bind="attr:{id: ID}, click: $parent.SelectedLoaiDanToc">
                                                <span data-bind="text: Name "></span>
                                                <i class="fa fa-check check-after-li" data-bind="visible: IsSelected==true"></i>
                                            </li>
                                        </ul>
                                    </div>
                                </div> <hr />
                            </aside>
                        </article>
                    }
                    <article class="boxLeft">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="~/Content/images/icon/trangthai (1).png" />     Trạng thái
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio choseTrangThai">
                                <ul>
                                    <li>
                                        <label>
                                            <input type="radio" name="rdTonKho" value="0" checked />
                                            Tất cả
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="rdTonKho" value="2" />
                                            Đang làm việc
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input type="radio" name="rdTonKho" value="1" />
                                            Đã nghỉ việc
                                        </label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                </section>
                <div class="op-filter-footer">
                    <button type="button" class="btn btn-link" style="color:red" onclick="closeFilter()">Hủy</button>
                    <button type="button" class="btn btn-link" onclick="collapseSubFilter(this)">
                        <span>Thu gọn</span>
                    </button>
                    <button type="button" class="btn btn-link" style="display:none" onclick="expandSubFilter(this)">
                        <span>Mở rộng</span>
                    </button>
                    <button type="button" class="btn btn-main kv2Btn" onclick="closeFilter()">Hoàn tất</button>
                </div>
            </div>
        </div>
        <div class="col-right">
            <div class="op-header">
                <div class="op-header-title">
                    <h2 class=" title">   @banhang24.Resources.ResourceTexts.Personnel /  Quản lý nhân viên </h2>
                </div>
                <div class="flex flex-between">
                    <div class="op-header-button">
                        @if (Model.UserRoleInsert)
                        {
                            <button type="button" id="BtnAddStaff" class="btn btn-main btn-group dropdown-toggle" data-bind="click: themmoicapnhatnv" aria-haspopup="true" aria-expanded="false" style="margin-right: 6px;">
                                <i class="fa fa-plus"></i><font>Thêm mới</font>
                            </button>
                        }
                        @if (Model.RoleImport)
                        {
                            if (Model.IsHRM)
                            {
                                <div class="dropdown " style="display:inline-block; float:left; margin-right:5px">
                                    <button class=" btn btn-main btn-group btnImport " type="submit" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                        <img src="/Content/images/icon/right2.png">
                                        <font>@banhang24.Resources.ResourceTexts.ImportFile</font>
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu ">
                                        <li values="1" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Thông tin</a></li>
                                        <li values="2" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Hợp đồng</a></li>
                                        <li values="3" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Bảo hiểm</a></li>
                                        <li values="4" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Khen thưởng</a></li>
                                        <li values="6" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Miễn giảm thuế</a></li>
                                        <li values="7" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Quy trình đào tạo</a></li>
                                        <li values="8" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Quá trình công tác</a></li>
                                        <li values="9" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Thông tin gia đình</a></li>
                                        <li values="10" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Thông tin chính trị</a></li>
                                        <li values="11" data-bind="click: $root.SelectModal_import" data-toggle="modal" data-target="#myModalinport"><a href="javascript:void(0);">Thông tin sức khỏe</a></li>
                                    </ul>
                                </div>
                            }
                            else
                            {
                                <button class="  btn btn-main btn-group btnImport " data-bind="click: $root.SelectModal_importNhanVienCoBan" type="submit" aria-haspopup="true" aria-expanded="true" style="background:var(--color-primary); display:inline-block; ">
                                    <img src="/Content/images/icon/right2.png">
                                    <font>Nhập file</font>
                                </button>
                            }
                        }
                        @if (Model.RoleExport)
                        {
                            if (Model.IsHRM)
                            {
                                <button class=" btn btn-main  btnExport " name="btnExport" data-bind="click: ExportNhanVienExcel" style="display:inline-block; margin-right: 6px;">
                                    <img src="/Content/images/icon/right3.png"> <font>Xuất file</font>
                                </button>
                            }
                            else
                            {
                                <button class=" btn btn-main btnExport " name="btnExport" data-bind="click: Export_NhanVienToExcel" style="display:inline-block">
                                    <img src="/Content/images/icon/right3.png"> <font>Xuất file</font>
                                </button>
                            }
                        }
                        <!--ko if: $root.role_ThietLapLuongCopy-->
                        <button class=" btn btn-main  " data-bind="click: SaoChepThietLapLuong"
                                style="display:none" title="Sao chép thiết lập lương">
                            <i class="fa fa-files-o"></i> Sao chép
                        </button>
                        <!--/ko-->
                        <div @*class="collumn-filter"*@>
                            <button type="button" class="btn btn-main floatright " onclick="showCollumnFilter(this)" aria-haspopup="true" aria-expanded="true" id="table-option">
                                <i class="fa fa-angle-double-down"></i>
                            </button>
                            @if (Model.IsHRM)
                            {
                                <div class="dropdown-list dropdown-menu filter-list-2 dropdown-menu-header">
                                    <ul data-bind="foreach: ListHeader">
                                        <li>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" class="checkbox" data-bind="checked: $root.ListHeaderSelected, value: index" />
                                                    <span></span> <!--ko text: colText + GhiChu --><!--/ko-->
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            }
                            else
                            {
                                <div class="dropdown-list dropdown-menu filter-list-2 dropdown-menu-header">
                                    <ul data-bind="foreach: ListHeader.filter(p=>p.isHRM === false)">
                                        <li>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" class="checkbox" data-bind="checked: $root.ListHeaderSelected, value: index" />
                                                    <span></span> <!--ko text: colText + GhiChu --><!--/ko-->
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="flex">
                        <div class="op-search showInput" style="margin-right:5px">
                            <input type="text" placeholder="Theo mã hoặc tên nhân viên" class="form-control"
                                   data-bind=" event: {keyup: selectMaNhanVien}" id="txtMaNhanVien1" autocomplete="off" />
                            <button type="button" class=" op-search-button" data-bind="click:clickSearchNhanVien">
                                <i class="fa fa-search" style="color:white"></i>
                            </button>
                        </div>
                        <button class="btn btn-main op-filter-toggle" onclick="showFilter()" title="Hiển thị bộ lọc">
                            <i class="material-icons">sort</i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="content-table " id="myScrollspy">
                <div id="Staff">
                    <div class="table-reponsive bangchung table-frame" id="table-reponsive">
                        <table class=" table" id="tableNV">
                            @if (Model.IsHRM)
                            {
                                <thead class="thead-boder">
                                    <tr>
                                        <!--ko if: ListHeaderSelected().filter(p=>p < 14).length > 0-->
                                        <th class="text-center thongtinchung" data-bind="attr: { colspan : ListHeaderSelected().filter(p=>p < 14).length }">Thông tin chung</th>
                                        <!--/ko-->
                                        <!--ko if: ListHeaderSelected().filter(p=>p >= 14 & p < 18).length > 0-->
                                        <th class="text-center thong-tin-thuong-tru" data-bind="attr: { colspan : ListHeaderSelected().filter(p=>p >= 14 & p < 18).length }">Thông tin thường trú(hộ khẩu)</th>
                                        <!--/ko-->
                                        <!--ko if: ListHeaderSelected().filter(p=>p >= 18 & p < 22).length > 0-->
                                        <th class="text-center thong-tin-tam-tru" data-bind="attr: { colspan : ListHeaderSelected().filter(p=>p >= 18 & p < 22).length }">Thông tin tạm trú(nơi ở hiện nay)</th>
                                        <!--/ko-->
                                        <!--ko if: ListHeaderSelected().filter(p=>p >= 22).length > 0-->
                                        <th class="text-center thong-tin-cong-viec" data-bind="attr: { colspan : ListHeaderSelected().filter(p=>p >= 22).length }">Thông tin công việc</th>
                                        <!--/ko-->
                                    </tr>
                                    <tr id="table" data-bind="foreach: ListHeader">
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === index).length > 0 -->
                                        <th data-bind="text: colText"></th>
                                        <!--/ko-->
                                    </tr>
                                </thead>
                            }
                            else
                            {
                                <thead>
                                    <tr id="table" data-bind="foreach: ListHeader.filter(p=>p.isHRM === false)">
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === index).length > 0 -->
                                        <th data-bind="text: colText"></th>
                                        <!--/ko-->
                                    </tr>
                                </thead>
                                @*<thead>
                                        <tr data-bind="foreach: headers">
                                            <th data-bind="click: $parent.sort, text: title, attr:{class: name, id: nameid, href: link}">
                                            </th>
                                        </tr>
                                    </thead>*@
                            }
                            <tbody data-bind="foreach: NhanViens">
                                @if (Model.IsHRM)
                                {
                                    <tr class="prev-tr-hide" data-bind="css:{bggray : $index()%2 == 1}">
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 0).length > 0-->
                                        <td data-bind="text: MaNhanVien"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 1).length > 0-->
                                        <td data-bind="text: TenNhanVien"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 2).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ngaysinh" data-bind="text:convertDateTime(NgaySinh)"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 3).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.gioitinh" data-bind="text:  GioiTinh==false?'Nữ':'Nam'"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 4).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.noisinh" data-bind="text: NoiSinh"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 5).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.dienthoai" data-bind="text: DienThoaiDiDong"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 6).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.email" data-bind="text: Email"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 7).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.cmnd" data-bind="text:  CMND"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 8).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ngaycap" data-bind="text: convertDateTime(CMND_NgayCap)"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 9).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.noicap" data-bind="text:  CMND_NoiCap"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 10).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.dantoc" data-bind="text:  DanToc"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 11).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.tongiao" data-bind="text:  TonGiao"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 12).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.honnhan" data-bind="text:  TinhTrangHonNhan"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 13).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.quoctich" data-bind="text: QuocTich"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 14).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.hkdiachi" data-bind="text:  HK_DiaChi"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 15).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.hkxaphuong" data-bind="text: HK_XP"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 16).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.hkquanhuyen" data-bind="text:  HK_QH"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 17).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.hktinhthanh" data-bind="text: HK_TT"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 18).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ttdiachi" data-bind="text:  TT_DiaChi"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 19).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ttxaphuong" data-bind="text:  TT_XP"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 20).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ttquanhuyen" data-bind="text:  TT_QH"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 21).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.tttinhthanh" data-bind="text:  TT_TT"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 22).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.phongban" data-bind="text:  PhongBan"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 23).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.ngayvaolamviec" data-bind="text:  convertDateTime(NgayVaolam)"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 24).length > 0-->
                                        <td class="@commonEnum.TypeColumnNhanVien.trangthai" data-bind="text: DaNghiViec==false?'Đang làm việc':'Đã nghỉ việc'"></td>
                                        <!--/ko-->
                                    </tr>
                                    <tr class="op-js-tr-hide">
                                        <td data-bind="attr: { colspan : $root.ListHeaderSelected().length }">
                                            <div class="op-object-detail tab-detail-staff tab-nav-pills" style="padding:10px;">
                                                <ul class="nav nav-pills nav-stacked col-md-2 col-xs-12">
                                                    <li class="active"><a data-toggle="tab" data-bind=" attr: { href: '#home'+ ID }">Thông tin</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#hopdong'+ ID },click:$parent.ShowHopDong">Hợp đồng</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#baohiem'+ ID },click:$parent.ShowBaoHiem">Bảo hiểm</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#khenthuong'+ ID },click:$parent.ShowKhenThuong">Khen thưởng</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#luong'+ ID },click:$parent.ShowLuongPhuCap">Lương, phụ cấp</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#miengiamthue'+ ID },click:$parent.ShowMienGiam">Miễn giảm thuế</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#training'+ ID },click:$parent.ShowQuyTrinhDaoTao">Quy trình đào tạo</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#collaborate'+ ID },click:$parent.ShowQuaTrinhCongTac">Quá trình công tác</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#family'+ ID },click:$parent.ShowThongTinGD">Thông tin gia đình</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#politic'+ ID },click:$parent.ShowThongTinCT">Thông tin chính trị</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#health'+ ID },click:$parent.ShowTTSucKhoe">Thông tin sức khỏe</a></li>
                                                </ul>
                                                <div class=" col-md-10 col-xs-12 nopadding">
                                                    <div class="tab-content">
                                                        <div class="tab-pane active" data-bind="attr: { id: 'home'+ ID }">
                                                            <div class="flex flex-column ">
                                                                <div class="flex flex-row">
                                                                    <div class="col-md-4 col-xs-12">
                                                                        <!-- ko if:(Image.length !== 1) && (Image !== null) && (Image !=='')-->
                                                                        <img style="width:100%; object-fit:cover" data-bind="attr: { src: Open24FileManager.hostUrl + Image}" src="~/Content/images/img-prp.png" />
                                                                        <!--/ko-->
                                                                        <!-- ko if:(Image.length == 1)|| (Image == null)|| (Image =='')-->
                                                                        <img style="width:100%; object-fit:cover" src="~/Content/empty-avatar.png" />
                                                                        <!--/ko-->
                                                                    </div>
                                                                    <div class="col-md-4 col-xs-12">
                                                                        <div class="form-group floatleft">
                                                                            <label class="css-form-label ">Mã nhân viên:</label>
                                                                            <div class="css-form-detail" data-bind="text: MaNhanVien"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft">
                                                                            <label class="css-form-label ">Tên nhân viên:</label>
                                                                            <div class="css-form-detail" data-bind="text: TenNhanVien"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft">
                                                                            <label class="css-form-label ">Ngày sinh:</label>
                                                                            <div class="css-form-detail" data-bind="text: moment(NgaySinh).format('DD/MM/YYYY')!='Invalid date'? moment(NgaySinh).format('DD/MM/YYYY'):''"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft">
                                                                            <label class="css-form-label ">Giới tính:</label>
                                                                            <div class="css-form-detail" data-bind="text: (GioiTinh==true?'Nam':'Nữ')"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft">
                                                                            <label class="css-form-label ">Quê quán:</label>
                                                                            <div class="css-form-detail" data-bind="text: NguyenQuan">
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group floatleft ">
                                                                            <label class="css-form-label ng-binding">Email:</label>
                                                                            <div class="css-form-detail" data-bind="text: Email"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft border-end">
                                                                            <label class="css-form-label ng-binding"> Địa chỉ:</label>
                                                                            <div class="css-form-detail" data-bind="text: ThuongTru"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4 col-xs-12">
                                                                        <div class="form-group floatleft ">
                                                                            <label class="css-form-label ng-binding">Điện Thoại:</label>
                                                                            <div class="css-form-detail" data-bind="text: DienThoaiDiDong"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft ">
                                                                            <label class="css-form-label ng-binding">Số CMT:</label>
                                                                            <div class="css-form-detail" data-bind="text: SoCMND"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft ">
                                                                            <label class="css-form-label ng-binding">Số bảo hiểm:</label>
                                                                            <div class="css-form-detail" data-bind="text: SoBHXH"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft ">
                                                                            <label class="css-form-label ng-binding">Tình trạng:</label>
                                                                            <div class="css-form-detail" data-bind="text: DaNghiViec==false?'Đang làm việc':'Đã nghỉ việc'"></div>
                                                                        </div>
                                                                        <div class="form-group floatleft border-end">
                                                                            <label class="css-form-label ng-binding">Ghi chú:</label>
                                                                            <div class="css-form-detail" data-bind="text: GhiChu"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="op-object-detail-function">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <button class="btn btn-main editNVchild" data-bind="click: $parent.editNV">
                                                                            <i class="fa fa-check-square"></i> Sửa đổi
                                                                        </button>
                                                                    }
                                                                    <button class="btn btn-main btnPrint" data-bind="click: $parent.PrintHsnv">
                                                                        <i class="fa fa-print"></i> In
                                                                    </button>
                                                                    @if (Model.RoleExport)
                                                                    {
                                                                        <button class="btn btn-main btnExportDetail" data-bind="click: $parent.ExportWord">
                                                                            <i class="fa fa-file-word-o" aria-hidden="true"></i> Xuất file word
                                                                        </button>
                                                                    }
                                                                    @if (Model.UserRoleDelete)
                                                                    {
                                                                        <button class="btn btn-cancel xoaNVchild" data-bind="visible: ID != $parent.ID_NhanVienAdmin(), click: $parent.modalDelete">
                                                                            <i class="fa fa-trash"></i> Xóa
                                                                        </button>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'hopdong'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Số hợp đồng</th>
                                                                        <th>Loại hợp đồng</th>
                                                                        <th>Ngày ký</th>
                                                                        <th>Thời hạn</th>
                                                                        <th>Ghi chú</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:60px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvHopDong">
                                                                        <tr>
                                                                            <td data-bind="text:SoHopDong">hh0001</td>
                                                                            <td data-bind="text:TextLoaiHopDong">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayKy)">hh0001</td>
                                                                            <td data-bind="text:ThoiHanText">hh0001</td>
                                                                            <td data-bind="text:GhiChu">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvHopDong"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvTTHopDong"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvHopDong" class="btn btn-main  btn-main">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'baohiem'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Loại bảo hiểm</th>
                                                                        <th>Nơi bảo hiểm</th>
                                                                        <th>Sổ bảo hiểm</th>
                                                                        <th>Ngày cấp</th>
                                                                        <th>Ngày hết hạn</th>
                                                                        <th>Ghi chú</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:60px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvBaoHiem">
                                                                        <tr>
                                                                            <td data-bind="text:TextLoaiBaoHiem">hh0001</td>
                                                                            <td data-bind="text:NoiBaoHiem">hh0001</td>
                                                                            <td data-bind="text:SoBaoHiem">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayCap)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayHetHan)">hh0001</td>
                                                                            <td data-bind="text:GhiChu">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvHBaoHiem"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvBaoHiem"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvBaoHiem" class="btn btn-main  btn-main">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'khenthuong'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Hình thức</th>
                                                                        <th>Số quyết định</th>
                                                                        <th>Ngày ban hành</th>
                                                                        <th>Nội dung tóm tắt</th>
                                                                        <th>Ghi chú</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:60px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvKhenThuong">
                                                                        <tr>
                                                                            <td data-bind="text:HinhThuc">hh0001</td>
                                                                            <td data-bind="text:SoQuyetDinh">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayBanHang)">hh0001</td>
                                                                            <td data-bind="text:NoiDung">hh0001</td>
                                                                            <td data-bind="text:GhiChu">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvKhenThuong"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvKhenthuong"><i class="fa fa-times" aria-hidden="true"> </i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvKhenThuong" class="btn btn-main  btn-main">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane t" data-bind="attr: { id: 'luong'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <!--ko if: $root.role_ThietLapLuongXemDS()-->
                                                                    <tr>
                                                                        <th>Loại</th>
                                                                        <th>Tên loại lương, phụ cấp</th>
                                                                        <th>Ngày áp dụng</th>
                                                                        <th>Ngày kết thúc</th>
                                                                        <th>Số tiền</th>
                                                                        <th>Hệ số</th>
                                                                        <th>Bậc</th>
                                                                        <th>Nội dung</th>
                                                                        <!--ko if: $root.role_ThietLapLuongInsert || $root.role_ThietLapLuongUpdate-->
                                                                        <th style="width:60px;">Xử lý</th>
                                                                        <!--/ko -->
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvLuongPhuCap">
                                                                        <tr>
                                                                            <td data-bind="text: LoaiLuong < 5 ?'Lương':  LoaiLuong.toString().indexOf('5') > -1?'Phụ cấp':'Giảm trừ'"></td>
                                                                            <td data-bind="text:TenLoaiLuong">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayApDung)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayKetThuc)">
                                                                            </td>
                                                                            <!--ko if: LoaiLuong < 5 || LoaiLuong == 52 || LoaiLuong == 62 -->
                                                                            <td data-bind="text:commonStatisJs.ConvertVnd(SoTien)"></td>
                                                                            <!--/ko -->
                                                                            <!--ko if: LoaiLuong == 51 -->
                                                                            <td data-bind="text:commonStatisJs.ConvertVnd(SoTien) + '/ ngày'"></td>
                                                                            <!--/ko -->
                                                                            <!--ko if: LoaiLuong == 53 -->
                                                                            <td data-bind="text: SoTien + ' % lương chính'"></td>
                                                                            <!--/ko -->
                                                                            <!--ko if: LoaiLuong == 61 -->
                                                                            <td data-bind="text:commonStatisJs.ConvertVnd(SoTien) +' /lần'"></td>
                                                                            <!--/ko -->
                                                                            <!--ko if: LoaiLuong == 63 -->
                                                                            <td data-bind="text: SoTien +' % lương nhận'"></td>
                                                                            <!--/ko -->
                                                                            <td data-bind="text:HeSo">hh0001</td>
                                                                            <td data-bind="text:Bac">hh0001</td>
                                                                            <td data-bind="text:NoiDung">hh0001</td>
                                                                            <td>
                                                                                <!--ko if: $root.role_ThietLapLuongInsert-->
                                                                                <a href="javascript:void(0)" data-bind="click:$root.editNvLUongPhuCap"><i class="fa fa-edit"></i></a>
                                                                                <!--/ko-->
                                                                                <!--ko if: $root.role_ThietLapLuongUpdate-->
                                                                                <a href="javascript:void(0)" data-bind="click:$root.removeNvLuongPhuCap"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                <!--/ko-->
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                    <!--/ko -->
                                                                    <!--ko if: !$root.role_ThietLapLuongXemDS() -->
                                                                    <tfoot class="Report_Empty text-center">
                                                                        <tr>
                                                                            <td colspan="8">
                                                                                <i>Không có quyền xem thiết lập lương</i>
                                                                            </td>
                                                                        </tr>
                                                                    </tfoot>
                                                                    <!--/ko -->
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    <!--ko if: $root.role_ThietLapLuongInsert-->
                                                                    <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvLuongPhuCap" class="btn btn-main  btn-main">
                                                                        <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                    </a>
                                                                    <!--/ko-->
                                                                    <!--ko if: $root.role_ThietLapLuongCopy-->
                                                                    <a href="javascript:void(0)" data-bind="click:$parent.SaoChepThietLapLuongTuNvien" class="btn btn-main  btn-main">
                                                                        <i class="fa fa-files-o"></i><font>Sao chép thiết lập lương</font>
                                                                    </a>
                                                                    <!--/ko-->
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" data-bind="attr: { id: 'miengiamthue'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Khoản miễn giảm</th>
                                                                        <th>Số tiền</th>
                                                                        <th>Ngày áp dụng</th>
                                                                        <th>Ngày kết thúc</th>
                                                                        <th>Ghi chú</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:60px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvMienGiam">
                                                                        <tr>
                                                                            <td data-bind="text:KhoanMienGiam">hh0001</td>
                                                                            <td data-bind="text:commonStatisJs.ConvertVnd(SoTien)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayApDung)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(NgayKetThuc)">hh0001</td>
                                                                            <td data-bind="text:GhiChu">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvMienGiam"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvMienGiam"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvMienGiam" class="btn btn-main  btn-main">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'training'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Từ ngày</th>
                                                                        <th>Đến ngày</th>
                                                                        <th>Nơi học</th>
                                                                        <th>Ngành học</th>
                                                                        <th>Hệ đào tạo</th>
                                                                        <th>Bằng cấp</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:40px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvQtDaoTao">
                                                                        <tr>
                                                                            <td data-bind="text:convertDateTime(TuNgay)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(DenNgay)">hh0001</td>
                                                                            <td data-bind="text:NoiHoc">hh0001</td>
                                                                            <td data-bind="text:NganhHoc">hh0001</td>
                                                                            <td data-bind="text:HeDaoTao">hh0001</td>
                                                                            <td data-bind="text:BangCap">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvQtDaoTao"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvQTDaoTao"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" data-bind="click:$parent.ShowPopupNvDaoTao" class="btn btn-main  btn-main">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'collaborate'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Từ ngày</th>
                                                                        <th>Đến ngày</th>
                                                                        <th>Cơ quan</th>
                                                                        <th>Vị trí</th>
                                                                        <th>Địa chỉ</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:40px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvQtCongTac">
                                                                        <tr>
                                                                            <td data-bind="text:convertDateTime(TuNgay)">hh0001</td>
                                                                            <td data-bind="text:convertDateTime(DenNgay)">hh0001</td>
                                                                            <td data-bind="text:CoQuan">hh0001</td>
                                                                            <td data-bind="text:ViTri">hh0001</td>
                                                                            <td data-bind="text:DiaChi">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvQtCongTac"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvQTCongTac"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" class="btn btn-main  btn-main" data-bind="click:$parent.ShowPopupNvCongTac">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'family'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Họ và tên</th>
                                                                        <th>Ngày sinh</th>
                                                                        <th>Nơi ở</th>
                                                                        <th>Quan hệ(Cha, mẹ...)</th>
                                                                        <th>Địa chỉ</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:40px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listTTGiaDinh">
                                                                        <tr>
                                                                            <td data-bind="text:HoTen">hh0001</td>
                                                                            <td data-bind="text:NgaySinh">hh0001</td>
                                                                            <td data-bind="text:NoiO">hh0001</td>
                                                                            <td data-bind="text:QuanHe">hh0001</td>
                                                                            <td data-bind="text:DiaChi">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editTTGD"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvGiaDinh"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" class="btn btn-main  btn-main" data-bind="click:$parent.showPopupGiaDinh">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'politic'+ ID }">
                                                            <div class="col-md-12 nopadding thong-tin-chinh-tri">
                                                                <div class="col-md-4 col-sm-12 col-xs-12">
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Ngày vào đoàn</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngayvaodoan" data-bind="value:convertDateTime(NgayVaoDoan)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Ngày vào đảng</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngayvaodang" data-bind="value:convertDateTime(NgayVaoDang)">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4 col-sm-12 col-xs-12 ">
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Nơi vào đoàn</label>
                                                                        <div class="form-news">
                                                                            <input type="text" class="form-control" data-bind="value:NoiVaoDoan">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Ngày chính thức</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngayvaochinhthuc" data-bind="value:convertDateTime(NgayVaoDangChinhThuc)">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4 col-sm-12 col-xs-12 ">
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Ngày nhập ngũ</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngaynhapngu" data-bind="value:convertDateTime(NgayNhapNgu)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group   detail-label-input">
                                                                        <label style="letter-spacing:-1px">Ngày ra khỏi đảng</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngayradang" data-bind="value:convertDateTime(NgayRoiDang)">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4 col-sm-12 col-xs-12 ">
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Ngày xuất ngũ</label>
                                                                        <div class="form-news add-icon-date">
                                                                            <input type="text" class="form-control News_ngayxuatngu" data-bind="value:convertDateTime(NgayXuatNgu)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Thông tin</label>
                                                                        <div class="form-news">
                                                                            <input type="text" class="form-control" data-bind="value:NoiSinhHoatDang">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-8 col-sm-12 col-xs-12">
                                                                    <div class="form-group   detail-label-input">
                                                                        <label>Lý do</label>
                                                                        <div class="form-news">
                                                                            <textarea rows="2" type="text" data-bind="value:GhiChuThongTinChinhTri" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12 nopadding ">
                                                                <div class="group-btn floatleft text-right">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" class="btn btn-main editNVchild" data-bind="click:$parent.SavettChinhTri">
                                                                            <i class="fa fa-floppy-o" aria-hidden="true" style="color:white"></i> Lưu
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " data-bind="attr: { id: 'health'+ ID }">
                                                            <div class="table-res">
                                                                <table class='table'>
                                                                    <tr>
                                                                        <th>Ngày khám</th>
                                                                        <th>Chiều cao</th>
                                                                        <th>Cân nặng</th>
                                                                        <th>Tình hình sức khỏe</th>
                                                                        @if (Model.UserRoleUpdate)
                                                                        {
                                                                            <th style="width:60px;">Xử lý</th>
                                                                        }
                                                                    </tr>
                                                                    <tbody data-bind="foreach:$root.listNvTTSucKhoe">
                                                                        <tr>
                                                                            <td data-bind="text:convertDateTime(NgayKham)">hh0001</td>
                                                                            <td data-bind="text:ChieuCao">hh0001</td>
                                                                            <td data-bind="text:CanNang">hh0001</td>
                                                                            <td data-bind="text:TinhHinhSucKhoe">hh0001</td>
                                                                            @if (Model.UserRoleUpdate)
                                                                            {
                                                                                <td>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.editNvTTSucKhoe"><i class="fa fa-edit"></i></a>
                                                                                    <a href="javascript:void(0)" data-bind="click:$root.removeNvTTSucKhoe"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                                                </td>
                                                                            }
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <div class="col-md-12 nopadding group-btn-left">
                                                                <div class="group-btn floatleft text-left">
                                                                    @if (Model.UserRoleUpdate)
                                                                    {
                                                                        <a href="javascript:void(0)" class="btn btn-main  btn-main" data-bind="click:$parent.ShowPopupNvTTSucKhoe">
                                                                            <i class="fa fa-plus"></i><font>Thêm mới</font>
                                                                        </a>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                }
                                else
                                {
                                    <tr class="prev-tr-hide" data-bind="click: $parent.loadQTCongTac ,css:{bggray : $index()%2 == 1},">
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 0).length > 0-->
                                        <td class="m0" data-bind="text: MaNhanVien"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 1).length > 0-->
                                        <td class="m1" data-bind="text: TenNhanVien"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 5).length > 0-->
                                        <td class="m2" data-bind="text: DienThoaiDiDong"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 6).length > 0-->
                                        <td class="m3" data-bind="text: Email"></td>
                                        <!--/ko-->
                                        <!--ko if: $root.ListHeaderSelected().filter(p => p === 24).length > 0-->
                                        <td class="m4" data-bind="text: DaNghiViec==false?'Đang làm việc':'Đã nghỉ việc'"></td>
                                        <!--/ko-->
                                        <td class="btn-hover-edit" style="position:absolute !important">
                                            <div class=" text-right">
                                                <a href="javascript:void(0)" data-bind="click: $parent.editNV" title="Sửa nhân viên">
                                                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                </a>
                                                <a href="javascript:void(0)" title="Xóa nhân viên" data-bind="visible: ID != $parent.ID_NhanVienAdmin(), click: $parent.modalDelete">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="op-js-tr-hide">
                                        <td data-bind="attr: { colspan : $root.ListHeader.filter(p=>p.isHRM === false).filter(p=> $root.ListHeaderSelected().includes(p.index)).length }">
                                            <div class="tab-detail-staff">
                                                @* op-object-detail *@
                                                <ul class="nav nav-tabs">
                                                    <li class="active"><a data-toggle="tab" data-bind=" attr: { href: '#home'+ ID }">Thông tin</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#infor'+ ID }">Hóa đơn</a></li>
                                                    <li><a data-toggle="tab" data-bind=" attr: { href: '#contac'+ ID }">Sổ quỹ</a></li>
                                                </ul>
                                                <div class="tab-content">
                                                    <div class="tab-pane active" data-bind="attr: { id: 'home'+ ID }">
                                                        <div class="op-object-detail " style="min-width:calc(100vw - 300px)">
                                                            <div class="col-md-12">
                                                                <div class="col-md-4">
                                                                    <div class="img-product" style="max-width:250px;">
                                                                        <a href="javascript:void(0)" data-bind="if:(Image.length !== 1)&& (Image !==null)&& (Image !=='')">
                                                                            <img data-bind="attr: { src: Open24FileManager.hostUrl + Image}" src="~/Content/images/img-prp.png" />
                                                                        </a>
                                                                        <span data-bind="if:(Image.length == 1)|| (Image ==null)|| (Image =='')">
                                                                            <img src="~/Content/empty-avatar.png" style="height:100%;width:100%;" />
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="form-group floatleft">
                                                                        <label class="css-form-label ">Mã nhân viên:</label>
                                                                        <div class="css-form-detail" data-bind="text: MaNhanVien"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft">
                                                                        <label class="css-form-label ">Tên nhân viên:</label>
                                                                        <div class="css-form-detail" data-bind="text: TenNhanVien"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft">
                                                                        <label class="css-form-label ">Ngày sinh:</label>
                                                                        <div class="css-form-detail" data-bind="text: moment(NgaySinh).format('DD/MM/YYYY')!='Invalid date'? moment(NgaySinh).format('DD/MM/YYYY'):''"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft">
                                                                        <label class="css-form-label ">Giới tính:</label>
                                                                        <div class="css-form-detail" data-bind="text: (GioiTinh==true?'Nam':'Nữ')"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft">
                                                                        <label class="css-form-label ">Quê quán:</label>
                                                                        <div class="css-form-detail" data-bind="text: NguyenQuan">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group floatleft ">
                                                                        <label class="css-form-label ng-binding">Email:</label>
                                                                        <div class="css-form-detail" data-bind="text: Email"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft border-end">
                                                                        <label class="css-form-label ng-binding"> Địa chỉ:</label>
                                                                        <div class="css-form-detail" data-bind="text: ThuongTru"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="form-group floatleft ">
                                                                        <label class="css-form-label ng-binding">Điện Thoại:</label>
                                                                        <div class="css-form-detail" data-bind="text: DienThoaiDiDong"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft ">
                                                                        <label class="css-form-label ng-binding">Số CMT:</label>
                                                                        <div class="css-form-detail" data-bind="text: SoCMND"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft ">
                                                                        <label class="css-form-label ng-binding">Số bảo hiểm:</label>
                                                                        <div class="css-form-detail" data-bind="text: SoBHXH"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft ">
                                                                        <label class="css-form-label ng-binding">Tình trạng:</label>
                                                                        <div class="css-form-detail" data-bind="text: DaNghiViec==false?'Đang làm việc':'Đã nghỉ việc'"></div>
                                                                    </div>
                                                                    <div class="form-group floatleft border-end">
                                                                        <label class="css-form-label ng-binding">Ghi chú:</label>
                                                                        <div class="css-form-detail" data-bind="text: GhiChu"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="op-object-detail-function">
                                                                <button class="btn btn-main editNVchild" data-bind="click: $parent.editNV">
                                                                    <i class="fa fa-check-square"></i> Sửa đổi
                                                                </button>
                                                                <button class="btn btn-cancel xoaNVchild" data-bind="visible: ID != $parent.ID_NhanVienAdmin(), click: $parent.modalDelete">
                                                                    <i class="fa fa-trash"></i> Xóa
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane tab-content-next" data-bind="attr: { id: 'infor'+ ID }">
                                                        <div class="table-res" style="min-width:calc(100vw - 300px)">
                                                            <table class='table'>
                                                                <tr>
                                                                    <th>Mã hóa đơn</th>
                                                                    <th>Khách hàng</th>
                                                                    <th>Ngày lập</th>
                                                                    <th>Loại hóa đơn</th>
                                                                    <th>Tổng tiền</th>
                                                                </tr>
                                                                <tbody data-bind="foreach: $parent.HD_NhanViens">
                                                                    <tr>
                                                                        <td data-bind="text: MaHoaDon"></td>
                                                                        <td data-bind="text: TenKhachHang"></td>
                                                                        <td data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></td>
                                                                        <td data-bind="text: TenLoaiHoaDon"></td>
                                                                        <td data-bind="text: TongTienHang"></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="page">
                                                                <div class="flex flex-end">
                                                                    <a href="javascript:void(0)" data-bind="click: $root.StartPageHD_NhanVien"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.BackPageHD_NhanVien"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                                                    <ul data-bind="foreach: $parent.PagesHD_NhanVien">
                                                                        <li>
                                                                            <a href="javascript:void(0)" data-bind="text: SoTrang, click: $root.gotoNextPageHD_NhanVien, css: $root.GetClassHD_NhanVien($data)"></a>
                                                                        </li>
                                                                    </ul>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.NextPageHD_NhanVien"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.EndPageHD_NhanVien"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                                                    <div class="total-recos">Hiển thị <span data-bind="text: $parent.RowsStartHD_NhanVien"></span> - <span data-bind="text: $parent.RowsEndHD_NhanVien"></span> trên tổng số <span data-bind="text: $root.RowsHD_NhanVien() !==null? $root.RowsHD_NhanVien(): 0"></span> hóa đơn.</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane tab-content-next" data-bind="attr: { id: 'contac'+ ID }">
                                                        <div class="table-res" style="min-width:calc(100vw - 300px)">
                                                            <table class='table'>
                                                                <tr>
                                                                    <th>Mã phiếu</th>
                                                                    <th>Ngày lập</th>
                                                                    <th>Người nộp/nhận</th>
                                                                    <th>Loại phiếu</th>
                                                                    <th>Tổng tiền</th>
                                                                </tr>
                                                                <tbody data-bind="foreach: $parent.SQ_NhanViens">
                                                                    <tr>
                                                                        <td data-bind="text: MaHoaDon"></td>
                                                                        <td data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></td>
                                                                        <td data-bind="text: NguoiNopTien"></td>
                                                                        <td data-bind="text: LoaiPhieu"></td>
                                                                        <td data-bind="text: TongTienThu"></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="page">
                                                                <div class="flex flex-end">
                                                                    <a href="javascript:void(0)" data-bind="click: $root.StartPageSQ_NhanVien"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.BackPageSQ_NhanVien"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                                                    <ul data-bind="foreach: $parent.PagesSQ_NhanVien">
                                                                        <li>
                                                                            <a href="javascript:void(0)" data-bind="text: SoTrang, click: $root.gotoNextPageSQ_NhanVien, css: $root.GetClassSQ_NhanVien($data)"></a>
                                                                        </li>
                                                                    </ul>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.NextPageSQ_NhanVien"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                                                    <a href="javascript:void(0)" data-bind="click: $root.EndPageSQ_NhanVien"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                                                    <div class="total-recos">Hiển thị <span data-bind="text: $parent.RowsStartSQ_NhanVien"></span> - <span data-bind="text: $parent.RowsEndSQ_NhanVien"></span> trên tổng số <span data-bind="text: $root.RowsSQ_NhanVien() !==null? $root.RowsSQ_NhanVien(): 0"></span> sổ quỹ.</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <div class="page">
                        <div class="flex flex-row">
                            <label>Số bản ghi:</label>
                            <select style="width:75px;" id="selecttedPage" class="form-control seleted-page" data-bind="value: pageSize,
                                                        options: pageSizes, event: {change: ResetCurrentPage}"></select>
                        </div>
                        <div class="flex flex-end">
                            <a href="javascript:void(0)" data-bind="click: $root.StartPageAll_NhanVien"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                            <a href="javascript:void(0)" data-bind="click: $root.BackPageAll_NhanVien"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                            <ul data-bind="foreach: PagesAll_NhanVien">
                                <li>
                                    <a href="javascript:void(0)" data-bind="text: SoTrang, click: $root.gotoNextPageAll_NhanVien, css: $root.GetClassAll_NhanVien($data)"></a>
                                </li>
                            </ul>
                            <a href="javascript:void(0)" data-bind="click: $root.NextPageAll_NhanVien"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                            <a href="javascript:void(0)" data-bind="click: $root.EndPageAll_NhanVien"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                            <div class="total-recos">Hiển thị <span data-bind="text: RowsStartAll_NhanVien"></span> - <span data-bind="text: RowsEndAll_NhanVien"></span> trên tổng số <span data-bind="text: $root.RowsAll_NhanVien() !==null? $root.RowsAll_NhanVien(): 0"></span> nhân viên.</div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid nopadding staff-add-new" hidden id="StaffNew" style="max-height:calc(100vh - 150px); overflow:auto; position:relative">
                    <div class="flex flex-between" style="        position: sticky;
        top: 0;
        z-index: 2;
        background: var(--color-title-edit)
">
                        <h4 data-bind="text:TieuDeThemNhanVien" class="pull-left">Thêm mới nhân viên</h4>
                        <div class="flex flex-end">
                            <button type="button" class="btn btn-cancel" style="margin-right:5px" data-bind="click:backtoform" data-dismiss="modal"><i class="fa fa-ban"></i> Bỏ qua</button>
                            <button type="button" class="btn btn-main" data-bind="click:SaveStaff"> <i class="fa fa-save"></i> Lưu</button>
                            <button type="button" class="btn btn-main" data-bind="click:SaveAndNewStaff"> <i class="fa fa-save"></i> Lưu & thêm</button>
                        </div>
                    </div>
                    <div class="container-fluid row">
                        <div class="container-fluid row" style="background:var(--color-table)">
                            <h5>Thông tin cơ bản</h5>
                        </div>
                        <div class="container-fluid row " style="padding:15px">
                            <div class="col-md-4 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Mã nhân viên</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_MaNhanVien" id="dm_manhanvien" placeholder="Mã tự động">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Họ và tên (<span style="color:red">*</span>)</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_HoTen">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Giới tính</label>
                                    <div class="css-form-detail ">
                                        <div class="flex">
                                            <label class="flex css-form-label"><input type="radio" data-bind="checked: news_GioiTinh, checkedValue: true"> Nam &nbsp;</label>
                                            <label class="flex css-form-label"><input type="radio" data-bind="checked: news_GioiTinh, checkedValue: false"> Nữ &nbsp;</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Hôn nhân</label>
                                    <div class="css-form-detail">
                                        <div id="IsFamily" class="flex ">
                                            @foreach (var item in commonEnumHellper.ListFamily)
                                            {
                                                <label data-id="@item.Key" class="flex css-form-label"><input name="optradio" type="radio"> @item.Value &nbsp;</label>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Di động</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_DiDong" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Điện thoại</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_SDT" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Email</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_Email">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Ghi chú</label>
                                    <div class="css-form-detail">
                                        <textarea rows="1" type="text" data-bind="value:news_GhiChu" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Ngày sinh</label>
                                    <div class="css-form-detail add-icon-date">
                                        <input type="text" class="form-control" id="News_ngaysinh">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Nơi sinh</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_NoiSinh">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Số CMND</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_SoCMTND">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Ngày cấp</label>
                                    <div class="css-form-detail add-icon-date">
                                        <input type="text" class="form-control" id="News_ngaycap" data-bind="enable:visibleCMND">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Nơi cấp</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_CMNDNoiCap,enable:visibleCMND">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Quốc tịch</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="selectQuocTich">
                                            <option value="">---Quốc tịch---</option>
                                            <!--ko foreach: ListQuocTich -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Dân tộc</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="ns_dantoc">
                                            @foreach (var item in commonEnumHellper.ListDanToc)
                                            {
                                                <option value="@item.Key">@item.Value</option>
                                            }
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Tôn giáo</label>
                                    <div class="css-form-detail">
                                        <input type="text" class="form-control" data-bind="value:news_TonGiao">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12 col-sm-12  " style="display:flex;flex-direction:column; justify-content:flex-start; align-items:center">
                                <img src="~/Content/images/photo.png" id="blah" alt="Ảnh nhân viên" style="width: 200px; height: 150px; object-fit: contain; margin: 15px; border: 1px solid #ccc;" />
                                <span class="btn btn-main btn-file  " style="width:200px">
                                    <i class="fa fa-camera"></i>
                                    Chọn ảnh
                                    <input type='file' id="imageUploadForm" name="files[]" accept=".png,.jpg,.jpeg,.gif" onchange="readURL(this);" />
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid nopadding">
                        <div class="form-group floatleft">
                            <h5 class="floatleft">
                                Thông tin thường trú(hộ khẩu)
                                <small>Vui lòng chọn quốc tịch trước khi điền thông tin thường trú</small>
                            </h5>
                        </div>
                        <div class="container-fluid row">
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Tỉnh/ thành</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="hk_tinhthanh">
                                            <option value="">---Chọn tỉnh thành---</option>
                                            <!--ko foreach: ListTinhThanhHK -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Quận/ huyện</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="hk_quanhuyen">
                                            <option value="">---Chọn quận huyện---</option>
                                            <!--ko foreach: HKListQuanHuyen -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Phường xã</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="hk_xaphuong">
                                            <option value="">---Chọn xã phường---</option>
                                            <!--ko foreach: HKListXaPhuong -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Địa chỉ</label>
                                    <div class="css-form-detail">
                                        <textarea rows="1" type="text" data-bind="value:news_HKDiaChi" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid row">
                        <div class="form-group">
                            <h5 class="floatleft">Thông tin tạm trú(nơi ở hiện nay)</h5>
                        </div>
                        <div class="container-fluid">
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Tỉnh/ thành</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="no_tinhthanh">
                                            <option value="">---Chọn tỉnh thành---</option>
                                            <!--ko foreach: ListTinhThanh -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Quận/ huyện</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="no_quanhuyen">
                                            <option value="">---Chọn quận huyện---</option>
                                            <!--ko foreach: NOListQuanHuyen -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Phường xã</label>
                                    <div class="css-form-detail">
                                        <select class="form-control" id="no_xaphuong">
                                            <option value="">---Chọn xã phường---</option>
                                            <!--ko foreach: NOListXaPhuong -->
                                            <option data-bind="value:Key,text:Value"></option>
                                            <!--/ko-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Địa chỉ</label>
                                    <div class="css-form-detail">
                                        <textarea rows="1" type="text" data-bind="value:news_NODiaChi" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid nopadding">
                        <div class="form-group">
                            <h5 class="floatleft">Thông tin công việc</h5>
                        </div>
                        <div class="container-fluid">
                            <div class="col-md-4 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Ngày vào làm</label>
                                    <div class="css-form-detail add-icon-date">
                                        <input type="text" class="form-control" id="News_ngayvaolamviec">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12 col-sm-12 ">
                                <div class="form-group floatleft">
                                    <label class="css-form-label">Trạng thái</label>
                                    <div class="css-form-detail radio-button-leff">
                                        <div class="flex flex-between">
                                            <label class="flex css-form-label"><input type="radio" data-bind="checked: news_TrangThai, checkedValue: false"> Đang làm</label>
                                            <label class="flex css-form-label"><input type="radio" data-bind="checked: news_TrangThai, checkedValue: true ">Đã nghỉ</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <!--ko foreach: listAddChiNhanh -->
                            <div class="container-fluid">
                                <div class="col-md-4 col-xs-12 col-sm-12 ">
                                    <div class="form-group floatleft">
                                        <label class="css-form-label ">Chi nhánh</label>
                                        <div class="css-form-detail">
                                            <div class="outselect">
                                                <div class="choose-person floatleft " data-toggle="dropdown">
                                                    <div class="form-control" style="cursor:pointer" data-bind="text:Text_ChiNhanh"> </div>
                                                </div>
                                                <div class="selec-person dropdown-menu " style="width:100%">
                                                    <ul data-bind="foreach: $root.DonVis">
                                                        <li class="li-input-span" data-bind="attr:{id: ID}, click: function(){ $root.SeletecChiNhanh($parent,$data); }">
                                                            <span data-bind="text: TenDonVi "></span>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-xs-12 col-sm-12 ">
                                    <div class="form-group floatleft">
                                        <label class="css-form-label">Phòng ban</label>
                                        <div class="css-form-detail">
                                            <div class="outselect ">
                                                <div class="  floatleft " data-toggle="dropdown" aria-expanded="true">
                                                    <div class="form-control" style="cursor:pointer" data-bind="text:Text_PhongBan"></div>
                                                </div>
                                                <div class="selec-person dropdown-menu floatleft " style="height:100px;overflow-y:scroll">
                                                    <ul id="selectPhongBan" class="group-parent" data-bind="foreach: $data.listPhongBan" style="overflow:visible">
                                                        <li data-bind="attr:{id: id} ">
                                                            <div data-bind="text:text,click: function(){ $root.Seletecphongban($parent,$data);}"></div>
                                                            <ul class="group-parent" data-bind="foreach: children">
                                                                <li data-bind="attr:{id: id} ">
                                                                    <div data-bind="text:text,click: function(){ $root.Seletecphongban($parentContext.$parent,$data);}"></div>
                                                                    <ul class="group-parent" data-bind="foreach: children">
                                                                        <li data-bind="attr:{id: id} ">
                                                                            <div data-bind="text:text,click: function(){ $root.Seletecphongban($parents[2],$data);}"></div>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 col-xs-12 col-sm-12 " data-bind="visible:!LaMacDinh">
                                    <div class="pull-left">
                                        <a href="javascript:void(0)" data-bind="click:$parent.RemoveChiNhanh">
                                            <span class="glyphicon glyphicon-remove" style="color:red;    font-size: 16px;  line-height: 30px;"></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!--/ko-->
                        </div>
                        <div class="container-fluid" style="padding:5px">
                            <button type="button" class="btn btn-main " data-bind="click:AddChiNhanh">Thêm chi nhánh phòng ban</button>
                        </div>
                    </div>
                    <div class="container-fluid row flex flex-between" style="position:sticky;bottom:0; background:var(--color-table); justify-content:flex-end">
                        <div class="flex " style="justify-content:flex-end; padding:20px 0">
                            <button type="button" class="btn btn-cancel" style="margin-right:5px" data-bind="click:backtoform" data-dismiss="modal"><i class="fa fa-ban"></i> Bỏ qua</button>
                            <button type="button" class="btn btn-main" style="margin-right:5px" data-bind="click:SaveStaff"> <i class="fa fa-save"></i> Lưu</button>
                            <button type="button" class="btn btn-main" data-bind="click:SaveAndNewStaff"> <i class="fa fa-save"></i> Lưu & thêm</button>
                        </div>
                    </div>
                </div>
                <script>
                    function opendirectmodal(ele) {
                        $(ele).next().modal('show');
                    };
                    function showinfor(ele) {
                        $(ele).next().toggle("fast");
                        $(ele).find("i").toggle();
                        $(ele).parent().siblings().find("button").next().hide("fast");
                        $(ele).parent().siblings().find(".glyphicon-minus").hide();
                        $(ele).parent().siblings().find(".glyphicon-plus").show();
                    }
                </script>
            </div>
        </div>
        <script>
            if (screen.width > 1024) { $("#sumary").children().children().height(170); } else {
                { $("#sumary").children().children().height(185); }
            }
        </script>
    </div>
</div>
<!-- Button trigger modal -->
<div class="modal fade" id="modalPopuplg_NV">
    <div id="modalContainerlg_NV" class="modal-dialog draggable modal-lg ">
        @Html.Action("_themmoinhanvien", new { area = "", Controller = "ThietLap" })
    </div>
</div>
@Html.Partial("_ThongTinGiaDinhPartial")
@Html.Partial("_NvChuongTrinhDaoTaoPartial")
@Html.Partial("_NvQuaTrinhCongTacPartial")
@Html.Partial("_NvThongTinSucKhoePartial")
@Html.Partial("_NsPhongBanPartial")
@Html.Partial("_NvHopDongPartial")
@Html.Partial("_NvbaoHiemPartial")
@Html.Partial("_NvKhenThuongPartial")
@Html.Partial("_NvMiengiamThuePartial")
@Html.Partial("_ThietLapLuongPhuCap")
@Html.Partial("_modalDeletePartial")
@Html.Partial("_ModalImportPartial")
@Html.Partial("_HSNVPrintPartial")
@Html.Partial("~/Views/NhanSu/_SaoChepThietLapLuong.cshtml")
<div class="modal fade" id="modalPopuplgDelete">
    <div class="modal-dialog draggable modal-md " role="document">
        @Html.Action("_modalDelete", new { area = "", Controller = "GiaoDich" })
    </div>
</div>
<div class="modal fade" id="modalpopup_deleteNV">
    <div id="modalContainer_delete" class="modal-dialog draggable modal-md">
        <div class="modal-content ">
            <div class="modal-header">
                <span class="modal-title">Xóa nhân viên</span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="material-icons">close</i></button>
            </div>
            <div class="modal-body">
                Bạn có chắc chắn muốn xóa nhân viên <span style="font-weight:bold" data-bind="text: deleteMaNhanVien"></span> khỏi danh mục nhân viên.
            </div>
            <div class="modal-footer ">
                <div class="container-fluid">
                    <button type="button" class="btn btn-cancel" data-dismiss="modal"><i class="fa fa-ban"></i>Bỏ qua</button>
                    <button type="button" class="btn btn-main" data-dismiss="modal" data-bind="click: xoaNV"><i class="fa fa-check"></i> Đồng ý</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(".item-time ul li .checkbox-item ").click(function () {
        $(this).find(".form-control").attr('disabled', false);
    });
    $(document).on('click', '.open-li', function () {
        $(".op-filter-container ul li").css("display", "block");
        $(this).toggle();
        $(this).next(".close-li").toggle();
    });
    $(document).on('click', '.close-li', function () {
        $(".op-filter-container ul li").css("display", "none");
        $(this).toggle();
        $(this).prev(".open-li").toggle();
        $(".op-filter-container ul li").eq(0).css("display", "block");
        $(".op-filter-container ul li").eq(1).css("display", "block");
    });
    $(document).ready(function () {
        $('ul.nav-pills li').click(function () {
            sleep(100).then(() => { setHeight(); });
        });
    });
    function setHeight() {
        heigth = heigth - heightold;
        $('#tableNV tr').each(function () {
            if ($(this).hasClass('ac')) {
                heightold = $(this).height();
            }
        });
        heigth += heightold;
        $('.line-right').css("margin-top", setTop + "px").height(heigth);
    }
    var heigth = 0;
    var heightold = 0;
    var setTop = 0;
    $('#treeviewphongban').on('click', '.icon-tree-li', function () {
        if ($(this).closest('p').next('ul').find('li').length > 0) {
            $(this).closest('p').next('ul').toggle();
        }
    });
    $(document).on({
        mouseenter: function () {
            $(this).find('a').show();
        },
        mouseleave: function () {
            $(this).find('a').hide();
        }
    }, ".tree-phong-ban ul li p");
    $('#tableNV').on('click', '.prev-tr-hide td', function () {
        if (!$(this).hasClass('btn-hover-edit')) {
            if ('@Model.IsHRM' === 'True') {
                setTop = 73 + parseInt($(this).closest('.prev-tr-hide').height() * ($(this).closest('.prev-tr-hide').index() / 2));
            }
            else {
                setTop = 35 + parseInt($(this).closest('.prev-tr-hide').height() * ($(this).closest('.prev-tr-hide').index() / 2));
            }
            $(this).closest('.prev-tr-hide').parents(".table-reponsive").toggleClass("table_re");
            $("td").not($(this).closest('.prev-tr-hide').find("td")).removeClass("bg-gray");
            $(this).closest('.prev-tr-hide').find(".proDropdown").toggle();
            $(".prev-tr-hide").not($(this).closest('.prev-tr-hide')).removeClass("bor-right");
            $(this).closest('.prev-tr-hide').toggleClass("bor-right");
            $(this).closest('.prev-tr-hide').find("td").toggleClass("bg-gray");
            var t = $(this).closest('.prev-tr-hide').next(".op-js-tr-hide").css("display");
            $(".prev-tr-hide td").not($(this).closest('.prev-tr-hide').find("td")).removeClass("bor");
            $(this).closest('.prev-tr-hide').find("td").toggleClass("bor");
            if (t == "none") {
                if (parseInt($('#SelecttedPage').val()) >= 20) {
                    $(".table-reponsive").removeClass('height470');
                }
                $(".op-js-tr-hide").removeClass("ac");
                $(".op-js-tr-hide").removeClass("l");
                $(this).closest('.prev-tr-hide').next(".op-js-tr-hide").addClass("ac");
                $(this).closest('.prev-tr-hide').next(".op-js-tr-hide").find('ul li').each(function (i) {
                    $(this).removeClass('active');
                    if (i === 0) {
                        $(this).addClass('active');
                    }
                });
                $(this).closest('.prev-tr-hide').next(".op-js-tr-hide").find('.tab-content').find('.tab-pane').each(function (i) {
                    $(this).removeClass('active');
                    if (i === 0) {
                        $(this).addClass('active');
                    }
                });
                heightold = $(this).closest('.prev-tr-hide').next().height();
                heigth = parseInt($(this).closest('.prev-tr-hide').height()) + heightold;
                $('.line-right').height(heigth).css("margin-top", setTop + "px");
            }
            else if (t == "block") {
                if (parseInt($('#SelecttedPage').val()) >= 20) {
                    $(".table-reponsive").addClass('height470');
                }
                $(this).closest('.prev-tr-hide').next(".op-js-tr-hide").removeClass("ac");
                $('.line-right').height(0).css("margin-top", "0px");
            }
            else {
                if (parseInt($('#SelecttedPage').val()) >= 20) {
                    $(".table-reponsive").addClass('height470');
                }
                $(".op-js-tr-hide").removeClass("ac");
                $('.line-right').height(0).css("margin-top", "0px");
            }
        }
    });
    var t = $(".table-reponsive").width();
    $(".op-object-detail .tab-content").width(t - 50);
</script>
<script>
    $('#News_ngaysinh').datetimepicker({
        timepicker: false,
        mask: true,
        format: 'd/m/Y',
        maxDate: new Date(),
    });
    $('#News_ngaycap').datetimepicker({
        timepicker: false,
        mask: true,
        format: 'd/m/Y',
    });
    $('#News_ngayvaolamviec').datetimepicker({
        timepicker: false,
        mask: true,
        format: 'd/m/Y',
    });
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#blah')
                    .attr('src', e.target.result)
                    .width(200)
                    .height(150);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    $(document).ready(function () {
        var lc_CTQuyen = JSON.parse(localStorage.getItem('lc_CTQuyen'));
        if ($.inArray('NhanVien_ThemMoi', lc_CTQuyen) > -1) {
            $('.nhanvienparent').css('display', 'block');
        }
        $(window.document).on('shown.bs.modal', '.modal', function () {
            window.setTimeout(function () {
                $('[autofocus]', this).focus();
                $('[autofocus]').select();
            }.bind(this), 100);
            $('#datetimepicker_mask').datetimepicker({
                timepicker: false,
                mask: false, // '9999/19/39 29:59' - digit is the maximum possible for a cell
                format: 'd/m/Y',
                scrollMonth: false,
            });
        });
    });
    $(function () {
        $('.newDateTime').daterangepicker({
            locale: {
                "format": 'DD/MM/YYYY',
                "separator": " - ",
                "applyLabel": "Áp dụng",
                "cancelLabel": "Hủy",
                "fromLabel": "Từ",
                "toLabel": "Đến",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "CN",
                    "T2",
                    "T3",
                    "T4",
                    "T5",
                    "T6",
                    "T7"
                ],
                "monthNames": [
                    "Tháng 1",
                    "Tháng 2",
                    "Tháng 3",
                    "Tháng 4",
                    "Tháng 5",
                    "Tháng 6",
                    "Tháng 7",
                    "Tháng 8",
                    "Tháng 9",
                    "Tháng 10",
                    "Tháng 11",
                    "Tháng 12"
                ],
                "firstDay": 1
            }
        });
    });
    $(".table-hover-news").on('mouseenter', '.prev-tr-hide', function () {
        $('.btn-hover-edit').hide();
        $(this).find('.btn-hover-edit').show();
        //do something
    });
    $(".table-hover-news").on('mouseleave', '.prev-tr-hide', function () {
        $('.btn-hover-edit').hide();
    });
</script>
<script type="text/javascript" src="@Html.WriteRenderFile(Scripts.Url("~/bundles/AppDanhMuc/NhanVienList"))"></script>
<script>
    function openfilter() {
        $(".col-left").show("slow");
    }
    $('.kv2Btn').on("click", function () {
        $(".col-left").hide("fast");
    });
</script>
<script>
    expand_sts = window.localStorage;
    $("#shownhapxuat").click(function () {
        //alert(localStorage.getItem("expand_sts"));
        if ($((".btnExport")).hasClass("forcehide")) {
            expand_import();
        } else {
            hide_import();
        }
    });
    if (localStorage.getItem("expand_sts") == "open") {
        expand_import();
    } else {
        hide_import();
    }
    function expand_import() {
        if ($("html").width() > 425) {
            $(".btnImport").removeClass("forcehide");
            $((".btnExport")).removeClass("forcehide");
            localStorage.setItem("expand_sts", "open");
        }
    };
    function hide_import() {
        if ($("html").width() > 425) {
            $(".btnImport").addClass("forcehide");
            $((".btnExport")).addClass("forcehide");
            localStorage.setItem("expand_sts", "close");
        }
    };
    function ShowNhom($this) {
        $this.next("ul").toggleClass("open");
    };
    //$(function () {
    //    $('.dropdown-menu-header').on('click', function () {
    //        // your code goes here when dropdown closed
    //        console.log('update header');
    //    });
    //});
</script>