@using banhang24.AppCache
@using System.Web.Optimization;
@using banhang24.Hellper;
@{
    Layout = null;
    ViewBag.Title = "Open24.vn - Báo cáo bán hàng";
}
<style>
    .treename {
        line-height: 30px;
        width: 100%;
        float: left;
    }
</style>
@Html.Hidden("loaibaocao", (int)commonEnum.GroupReport.banhang, new { @id = "ID_loaibaocao" })
@Html.Hidden("duchitiet", (int)commonEnum.TypeReport.chitiet, new { @id = "ID_duchitiet" })
@Html.Hidden("rp_khuyenmai", (int)commonEnum.TypeReport.hangkhuyenmai, new { @id = "rp_khuyenmai" })
<div class="op-container" id="divPage">
    <div class="container-fluid nopadding" style="position:relative">
        <div class="op-baocao-type">
            <ul class="chose_kieubang ul-radius">
                <li value="1" class="active" data-id="@((int)commonEnum.TypeReport.tonghop)">
                    <a data-target="home">

                        <input type="radio" name="kieubang" value="1" id="gotohome2" checked>

                        <label for="gotohome2">
                            Tổng hợp
                        </label>
                    </a>
                </li>
                <li value="2" data-id="@((int)commonEnum.TypeReport.chitiet)">
                    <a data-target="Detail">
                        <input type="radio" name="kieubang" value="2" id="gotoDetail2">
                        <label for="gotoDetail2">
                            Chi tiết
                        </label>
                    </a>
                </li>
                <li value="10" data-id="10">
                    <a data-target="dinhdanhdichvu">
                        <input type="radio" name="kieubang" value="10" id="gotodinhdanhdichvu2">
                        <label for="gotodinhdanhdichvu2">
                            Định danh dịch vụ
                        </label>
                    </a>
                </li>
                <li value="3" data-id="@((int)commonEnum.TypeReport.nhomhang)">
                    <a data-target="nhomhanghoa">

                        <input type="radio" name="kieubang" value="3" id="gotonhomhanghoa2">
                        <label for="gotonhomhanghoa2">
                            Theo nhóm hàng
                        </label>
                    </a>
                </li>
                <li value="4" data-id="@((int)commonEnum.TypeReport.khachhang)">
                    <a data-target="khachhang">

                        <input type="radio" name="kieubang" value="4" id="gotokhachhang2">
                        <label for="gotokhachhang2">
                            Theo khách hàng
                        </label>
                    </a>
                </li>
                <li value="6" data-id="@((int)commonEnum.TypeReport.nhanvien)">
                    <a data-target="nhanvien">

                        <input type="radio" name="kieubang" value="6" id="gotonhanvien2">
                        <label for="gotonhanvien2">
                            Theo nhân viên
                        </label>
                    </a>
                </li>
                <li value="7" data-id="@((int)commonEnum.TypeReport.hangtralai)">
                    <a data-target="hangtralai">

                        <input type="radio" name="kieubang" value="7" id="gotohangtralai2">
                        <label for="gotohangtralai2">
                            Hàng trả lại
                        </label>
                    </a>
                </li>
                <li value="9" data-id="@((int)commonEnum.TypeReport.hangkhuyenmai)">
                    <a data-target="hangkhuyenmai">
                        <input type="radio" name="kieubang" value="9" id="gotohangkhuyenmai2">
                        <label for="gotohangkhuyenmai2">
                            Hàng khuyến mại
                        </label>
                    </a>
                </li>
                <li value="8" data-id="@((int)commonEnum.TypeReport.loinhuan)">
                    <a data-target="loinhuan">
                        <input type="radio" name="kieubang" value="8" id="gotoloinhuan2">
                        <label for="gotoloinhuan2">
                            Lợi nhuận theo mặt hàng
                        </label>
                    </a>
                </li>
            </ul>
        </div>
        <div class="col-left">
            <div class=" op-filter ">
                <section class="op-filter-body">
                    <article class="boxLeft op-baocao-classic">
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/icon/report-loaibaocao.png"> Báo cáo
                        </h3>
                        <aside class="op-filter-container">
                            <ul class="chose_kieubang ul-radius">
                                <li value="1" class="active" data-id="@((int)commonEnum.TypeReport.tonghop)">
                                    <a data-target="home">

                                        <input type="radio" name="kieubang" value="1" id="gotohome" checked>

                                        <label for="gotohome">
                                            Tổng hợp
                                        </label>
                                    </a>
                                </li>
                                <li value="2" data-id="@((int)commonEnum.TypeReport.chitiet)">
                                    <a data-target="Detail">
                                        <input type="radio" name="kieubang" value="2" id="gotoDetail">
                                        <label for="gotoDetail">
                                            Chi tiết
                                        </label>
                                    </a>
                                </li>
                                <li value="10" data-id="10">
                                    <a data-target="dinhdanhdichvu">
                                        <input type="radio" name="kieubang" value="10" id="gotodinhdanhdichvu">
                                        <label for="gotodinhdanhdichvu">
                                            Định danh dịch vụ
                                        </label>
                                    </a>
                                </li>
                                <li value="3" data-id="@((int)commonEnum.TypeReport.nhomhang)">
                                    <a data-target="nhomhanghoa">

                                        <input type="radio" name="kieubang" value="3" id="gotonhomhanghoa">
                                        <label for="gotonhomhanghoa">
                                            Theo nhóm hàng
                                        </label>
                                    </a>
                                </li>
                                <li value="4" data-id="@((int)commonEnum.TypeReport.khachhang)">
                                    <a data-target="khachhang">

                                        <input type="radio" name="kieubang" value="4" id="gotokhachhang">
                                        <label for="gotokhachhang">
                                            Theo khách hàng
                                        </label>
                                    </a>
                                </li>
                                <li value="6" data-id="@((int)commonEnum.TypeReport.nhanvien)">
                                    <a data-target="nhanvien">

                                        <input type="radio" name="kieubang" value="6" id="gotonhanvien">
                                        <label for="gotonhanvien">
                                            Theo nhân viên
                                        </label>
                                    </a>
                                </li>
                                <li value="7" data-id="@((int)commonEnum.TypeReport.hangtralai)">
                                    <a data-target="hangtralai">

                                        <input type="radio" name="kieubang" value="7" id="gotohangtralai">
                                        <label for="gotohangtralai">
                                            Hàng trả lại
                                        </label>
                                    </a>
                                </li>
                                <li value="9" data-id="@((int)commonEnum.TypeReport.hangkhuyenmai)">
                                    <a data-target="hangkhuyenmai">
                                        <input type="radio" name="kieubang" value="9" id="gotohangkhuyenmai">
                                        <label for="gotohangkhuyenmai">
                                            Hàng khuyến mại
                                        </label>
                                    </a>
                                </li>
                                <li value="8" data-id="@((int)commonEnum.TypeReport.loinhuan)">
                                    <a data-target="loinhuan">
                                        <input type="radio" name="kieubang" value="8" id="gotoloinhuan">
                                        <label for="gotoloinhuan">
                                            Lợi nhuận theo mặt hàng
                                        </label>
                                    </a>
                                </li>
                            </ul>
                            <script>
                                $('.chose_kieubang li').on('click', function () {
                                    var tar = $(this).children('a').attr('data-target');
                                    $(this).find('input[type="radio"]').prop('checked', true);
                                    $('#' + tar).siblings('.tab-pane').hide();
                                    $('#' + tar).show();
                                })
                            </script>

                        </aside>
                    </article>

                    <article class="boxLeft sortTime Show_NhomKhachHang" hidden>
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/icon/nhomkhach-black.png">    Nhóm khách hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="op-tag-picker dropdown">
                                <div class="  " data-toggle="dropdown" id="choose_NhomDT">
                                    <ul data-bind="foreach: MangNhomDoiTuong">
                                        <li>
                                            <span data-bind="text: TenNhomDoiTuong">
                                            </span>
                                            <span data-bind="click: $parent.CloseNhomDoiTuong">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class="dropdown" id="NoteNameNhomDoiTuong" data-bind="event:{keyup: NoteNameNhomDoiTuong}" placeholder="Chọn nhóm khách hàng..." />
                                </div>
                                <ul class=" dropdown-menu" id="selec-all-NhomDoiTuong" data-bind="foreach: NhomDoiTuongs">
                                    <li data-bind="attr:{id: ID}, click: $parent.SelectedNhomDoiTuong">
                                        <a data-bind="text: TenNhomDoiTuong"></a>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft sortTime showNameKH" hidden>
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="~/Content/images/icon/Iconbanhanggg-03.png" />     Khách hàng
                        </h3>
                        <aside class="op-filter-container">
                            <input type="text" placeholder="Theo mã, tên, sdt khách hàng" class="form-control" id="txtMaKH" data-bind="event: {keyup: SelectMaKH}">
                        </aside>
                    </article>
                    <article class="boxLeft sortTime showGioiThieu" hidden>
                        <h3 class="op-filter-title " onclick="toggleSubFilter(this)">
                            <img src="/Content/images/expire/ic-nguoi-gioi-thieu.png" height="14">   Người giới thiệu
                        </h3>
                        <aside class="op-filter-container">
                            <input type="text" placeholder="Theo mã, tên, sdt người giới thiệu" class="form-control" id="txtMaGT" data-bind="event: {keyup: SelectMaGT}">
                        </aside>
                    </article>
                    <article class="boxLeft sortTime showQuanLy" hidden>
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/expire/ic-nguoi-quan-ly.png" height="14">    Người quản lý
                        </h3>
                        <aside class="op-filter-container">
                            <input type="text" placeholder="Theo mã, tên, sdt người quản lý" class="form-control" id="txtMaQL" data-bind="event: {keyup: SelectMaQL}">
                        </aside>
                    </article>
                    <article class="boxLeft showChiNhanh">
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/icon/chinhanh-black.png">    Chi nhánh
                        </h3>
                        <aside class="op-filter-container">
                            <div class="op-tag-picker dropdown">
                                <div class="nameDonVi  " data-toggle="dropdown" id="choose_DonVi">
                                    <ul data-bind="foreach: MangChiNhanh">
                                        <li>
                                            <span data-bind="text: TenDonVi">
                                            </span>
                                            <span data-bind="click: $parent.CloseDonVi">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class="dropdown nameDonVi" id="NoteNameDonVi" data-bind="event:{keyup: NoteNameDonVi}" placeholder="Chọn chi nhánh..." />
                                </div>
                                <ul class=" dropdown-menu" id="selec-all-DonVi">
                                    <li data-bind="click: SelectedDonVi">
                                        <a>Tất cả chi nhánh</a>
                                    </li>
                                    <!--ko foreach: ArrDonVi-->
                                    <li data-bind="attr:{id: ID}, click: $parent.SelectedDonVi">
                                        <a data-bind="text: TenDonVi "></a>
                                    </li>
                                    <!--/ko-->
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft showDePartment" hidden>
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/icon/chinhanh-black.png">    Phòng ban
                        </h3>
                        <aside class="op-filter-container">
                            <div id="treeDepartment"></div>
                        </aside>
                    </article>
                    <article class="boxLeft">
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="/Content/images/icon/thoigian.png">      Thời gian lập hóa đơn
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox choose_TimeReport">
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="1" checked
                                               data-bind="checked: $root.ThoiGianHD_RdoTypeTime">
                                    </div>
                                    <div class="conten-choose">
                                        <div class=" choose-date">
                                            <div class="dr_TimeReport" data-toggle="dropdown" aria-expanded="true">
                                                <input type="text" class="dropdown form-control choose-date-show"
                                                       placeholder="Hôm nay"
                                                       data-bind="value: $root.ThoiGianHD_TypeTimeText">
                                            </div>
                                            <div class="dropdown-menu">
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo ngày và tuần</h3>
                                                    <ul>
                                                        <li value="homnay"><a href="javascript:void(0);">Hôm nay</a></li>
                                                        <li value="homqua"><a href="javascript:void(0);">Hôm qua</a></li>
                                                        <li value="tuannay"><a href="javascript:void(0);">Tuần này</a></li>
                                                        <li value="tuantruoc"><a href="javascript:void(0);">Tuần trước</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo tháng và quý</h3>
                                                    <ul>
                                                        <li value="thangnay"><a href="javascript:void(0);">Tháng này</a></li>
                                                        <li value="thangtruoc"><a href="javascript:void(0);">Tháng trước</a></li>
                                                        <li value="quynay"><a href="javascript:void(0);">Quý này</a></li>
                                                        <li value="quytruoc"><a href="javascript:void(0);">Quý trước</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo năm</h3>
                                                    <ul>
                                                        <li value="namnay"><a href="javascript:void(0);">Năm này</a></li>
                                                        <li value="namtruoc"><a href="javascript:void(0);">Năm trước</a></li>
                                                        <li value="toanthoigian"><a href="javascript:void(0);">Toàn thời gian</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="2"
                                               data-bind="checked: $root.ThoiGianHD_RdoTypeTime">
                                    </div>
                                    <div class="conten-choose">
                                        <div class="floatleft form-wrap">
                                            <input type="text" class="form-control ip_DateReport newDateTime" name="daterange"
                                                   data-bind="enable: $root.ThoiGianHD_RdoTypeTime() !== 1,
                                                   value: $root.ThoiGianHD_DateRangeText">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft showChungTu">
                        <h3 onclick="toggleSubFilter(this)" class="op-filter-title">
                            <img src="~/Content/images/icon/loaithuchi.png" />  Loại chứng từ
                        </h3>
                        <aside class="op-filter-container">
                            <div class="dropdown op-tag-picker">
                                <div data-toggle="dropdown" id="choose_ChungTu">
                                    <ul data-bind="foreach: MangChungTu">
                                        <li>
                                            <span data-bind="text: TenChungTu">
                                            </span>
                                            <span data-bind="click: $parent.CloseChungTu">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class=" nameChungTu" id="NoteNameChungTu" data-bind="event:{keyup: NoteNameChungTu}" placeholder="Chọn chứng từ..." />
                                </div>

                                <ul data-bind="foreach: ChungTus" class=" dropdown-menu" id="selec-all-ChungTu">
                                    <li data-bind="attr:{id: ID}, click: $parent.SelectedChungTu">
                                        <a data-bind="text: TenChungTu "></a>
                                </ul>

                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft customer_NgayGiaoDichMax">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <i class="fa fa-calendar"></i>  Ngày giao dịch gần nhất
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox">
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rdo_ngaygiaodich" value="1"
                                               data-bind="checked: $root.BCTanSuat_TypeTimeCheck">
                                    </div>
                                    <div class="conten-choose">
                                        <div class=" choose-date">
                                            <div data-toggle="dropdown" aria-expanded="true">
                                                <input type="text" class="dropdown form-control" placeholder="Hôm nay" data-bind="value: $root.BCTanSuat_TypeTimeText">
                                            </div>
                                            <div class="dropdown-menu">
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo ngày và tuần</h3>
                                                    <ul>
                                                        <li value="homnay"><a href="javascript:void(0);">Hôm nay</a></li>
                                                        <li value="homqua"><a href="javascript:void(0);">Hôm qua</a></li>
                                                        <li value="tuannay"><a href="javascript:void(0);">Tuần này</a></li>
                                                        <li value="tuantruoc"><a href="javascript:void(0);">Tuần trước</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo tháng và quý</h3>
                                                    <ul>
                                                        <li value="thangnay"><a href="javascript:void(0);">Tháng này</a></li>
                                                        <li value="thangtruoc"><a href="javascript:void(0);">Tháng trước</a></li>
                                                        <li value="quynay"><a href="javascript:void(0);">Quý này</a></li>
                                                        <li value="quytruoc"><a href="javascript:void(0);">Quý trước</a></li>
                                                    </ul>
                                                </div><div class="col-md-4 col-sm-4">
                                                    <h3>Theo năm</h3>
                                                    <ul>
                                                        <li value="namnay"><a href="javascript:void(0);">Năm này</a></li>
                                                        <li value="namtruoc"><a href="javascript:void(0);">Năm trước</a></li>
                                                        <li value="toanthoigian"><a href="javascript:void(0);">Toàn thời gian</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rdo_ngaygiaodich" value="2" data-bind="checked: $root.BCTanSuat_TypeTimeCheck">
                                    </div>
                                    <div class="conten-choose">
                                        <div class="floatleft form-wrap">
                                            <input type="text" class="form-control newDateTime" name="daterange"
                                                   data-bind="enable: $root.BCTanSuat_TypeTimeCheck() !== 1, value: $root.BCTanSuat_DateRangeText">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft customer_NgayTaoKH">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <i class="fa fa-calendar"></i>   Ngày tạo khách hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox">
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rdo_ngaytaoKH" value="1"
                                               data-bind="checked: $root.BCTanSuat_RdoTypeTime_NgayTao">
                                    </div>
                                    <div class="conten-choose">
                                        <div class=" choose-date">
                                            <div data-toggle="dropdown" aria-expanded="true">
                                                <input type="text" class="dropdown form-control" placeholder="Hôm nay"
                                                       data-bind="value: $root.BCTanSuat_TypeTimeText_NgayTao">
                                            </div>
                                            <div class="dropdown-menu">
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo ngày và tuần</h3>
                                                    <ul>
                                                        <li value="homnay"><a href="javascript:void(0);">Hôm nay</a></li>
                                                        <li value="homqua"><a href="javascript:void(0);">Hôm qua</a></li>
                                                        <li value="tuannay"><a href="javascript:void(0);">Tuần này</a></li>
                                                        <li value="tuantruoc"><a href="javascript:void(0);">Tuần trước</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo tháng và quý</h3>
                                                    <ul>
                                                        <li value="thangnay"><a href="javascript:void(0);">Tháng này</a></li>
                                                        <li value="thangtruoc"><a href="javascript:void(0);">Tháng trước</a></li>
                                                        <li value="quynay"><a href="javascript:void(0);">Quý này</a></li>
                                                        <li value="quytruoc"><a href="javascript:void(0);">Quý trước</a></li>
                                                    </ul>
                                                </div><div class="col-md-4 col-sm-4">
                                                    <h3>Theo năm</h3>
                                                    <ul>
                                                        <li value="namnay"><a href="javascript:void(0);">Năm này</a></li>
                                                        <li value="namtruoc"><a href="javascript:void(0);">Năm trước</a></li>
                                                        <li value="toanthoigian"><a href="javascript:void(0);">Toàn thời gian</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rdo_ngaytaoKH" value="2" data-bind="checked: $root.BCTanSuat_RdoTypeTime_NgayTao">
                                    </div>
                                    <div class="conten-choose">
                                        <div class="floatleft form-wrap">
                                            <input type="text" class="form-control newDateTime" name="daterange"
                                                   data-bind="enable: $root.BCTanSuat_RdoTypeTime_NgayTao() !== 1,
                                                   value: $root.BCTanSuat_DateRangeText_NgayTao">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft showNhomHang">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/nhomhang-black.png">  Nhóm hàng
                        </h3>
                        <aside class="op-filter-container flex flex-column">
                            <div class="seach-nhomhang">
                                <i class="fa fa-search" style="display:inline-block"></i>
                                <input type="text" class="seach-nhomhang floatleft" data-bind="event: {keyup: NoteNhomHang}" id="SeachNhomHang" placeholder="Tìm kiếm nhóm hàng" style="display:inline-block; width: calc(100% - 30px)" />
                            </div>
                            <div id="tatcanhh" class="treename SelectALLNhomHang yellow" data-bind="click: $root.SelectRepoert_NhomHangHoa">
                                <i class="fa fa-angle-right" aria-hidden="true"></i> Tất cả
                            </div>
                            <ul class="op-list-tree SelectNhomHang" id="treeviewnhomhang" data-bind="foreach: NhomHangHoas">
                                <li>
                                    <div class="flex flex-row" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                        <span data-bind="text: TenNhomHangHoa"></span>
                                        @*<button onclick="showlistTree(this)"><i class="fa fa-angle-down"></i></button>*@

                                    </div>
                                    @*<span class="close-ul" onclick="ShowNhom($(this))" data-bind="visible: Childs.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>*@
                                    <ul data-bind="foreach: Childs">
                                        <li>
                                            <div class="flex flex-row" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">

                                                <label data-bind="text: TenNhomHangHoa">Nhóm hàng hóa 2</label>

                                                @*<button onclick="showlistTree(this)" data-bind="visible: Child2s.length >0 "><i class="fa fa-angle-down"></i></button>*@
                                            </div>
                                            @*<button class="btn btn-link btn-right" data-bind="click: $root.editNhomHangHoa"><i class="fa fa-edit"></i></button>*@
                                            <ul data-bind="foreach: Child2s">
                                                <li>
                                                    <div class="flex flex-row" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">

                                                        <label data-bind="text: TenNhomHangHoa"></label>
                                                    </div>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                    @*<ul data-bind="foreach: Childs">
                                            <li>
                                                <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                    <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                    <a href="javascript:void(0)" data-bind="click: $root.editNhomHangHoa"><i class="fa fa-pencil-square-o"></i></a>
                                                </div>
                                                <span class="close-ul" onclick="ShowNhom($(this))" data-bind="visible: Child2s.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>
                                                <ul data-bind="foreach: Child2s">
                                                    <li>
                                                        <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                            <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>*@
                                </li>
                            </ul>
                        </aside>
                    </article>
                    <article class="boxLeft showLoaiHang">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/loaihang.png">  Loại hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox choose_LoaiHang">
                                <ul>
                                    <li>
                                        <label>
                                            <input value="1" type="checkbox" data-bind="checked: LoaiSP_HH"> Hàng hóa
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input value="2" type="checkbox" data-bind="checked: LoaiSP_DV"> Dịch vụ
                                        </label>
                                    </li>
                                    <li>
                                        <label>
                                            <input value="3" type="checkbox" data-bind="checked: LoaiSP_CB"> Combo
                                        </label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>

                    <article class="boxLeft showTrangThaiHang">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/trangthai-black.png"> Trạng thái hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio chose_TinhTrangKD">
                                <ul>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="1" /> Tất cả</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="2" /> Hàng đang kinh doanh</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="3" /> Hàng ngừng kinh doanh</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="4" /> Hàng xóa bỏ</label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft" id="showhideBaoHanh" hidden>
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/trangthai-black.png"> Thời hạn bảo hành
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio chose_TinhTrangBH">
                                <ul>
                                    <li>
                                        <label><input type="radio" name="rdTuyChonBH" data-bind="checked: Loc_TinhTrangBH" value="1" /> Tất cả</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChonBH" data-bind="checked: Loc_TinhTrangBH" value="2" /> Còn bảo hành</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChonBH" data-bind="checked: Loc_TinhTrangBH" value="3" /> Hết bảo hành</label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft cutomer_DoanhThu" hidden>
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/tongban.png">
                            Doanh thu
                        </h3>
                        <aside class="op-filter-container ">
                            <div class="menuCheckbox">
                                <div class="form-group floatleft">
                                    <div class="radio-menu"><label>Từ</label></div>
                                    <div class="conten-choose">
                                        <input type="text" class="form-control" placeholder="0" autocomplete="off" onkeyup="return formatNumberObj(this)"
                                               data-bind="value: Customer_DoanhThuTu, event:{keyup: $root.BCTanSuat_KeyupTextSearch}">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu"><label>Tới</label></div>
                                    <div class="conten-choose">
                                        <input type="text" class="form-control" placeholder="Giá trị" iautocomplete="off" onkeyup="return formatNumberObj(this)"
                                               data-bind="value: Customer_DoanhThuDen,event:{keyup: $root.BCTanSuat_KeyupTextSearch}">
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft cutomer_SoLanDen" hidden>
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <i class="fa fa-globe"></i>
                            Số lần đến
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox">
                                <div class="form-group floatleft">
                                    <div class="radio-menu"><label>Từ</label></div>
                                    <div class="conten-choose">
                                        <input type="text" class="form-control" placeholder="0" autocomplete="off" onkeyup="return formatNumberObj(this)"
                                               data-bind="value: Customer_SoLanDenFrom, event:{keyup: $root.BCTanSuat_KeyupTextSearch}">
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu"><label>Tới</label></div>
                                    <div class="conten-choose">
                                        <input type="text" class="form-control" placeholder="Giá trị" autocomplete="off" onkeyup="return formatNumberObj(this)"
                                               data-bind="value: Customer_SoLanDenTo, event:{keyup: $root.BCTanSuat_KeyupTextSearch}">
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>



                    <article class="boxLeft cutomer_TrangThai" hidden>
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <i class="fa fa-edit"></i>
                            Trạng thái khách
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio">
                                <ul>
                                    <li>
                                        <label><input type="radio" name="rdCusStatus" data-bind="checked: Customer_TrangThai" value="2" /> Tất cả</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdCusStatus" data-bind="checked: Customer_TrangThai" value="0" /> Đang hoạt động</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdCusStatus" data-bind="checked: Customer_TrangThai" value="1" /> Dừng hoạt động</label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                </section>
                <div class="op-filter-footer">
                    <button type="button" class="btn btn-link" style="color:red" onclick="closeFilter()">Hủy</button>
                    <button type="button" class="btn btn-link" onclick="collapseSubFilter(this)">
                        <span>Thu gọn</span>
                    </button>
                    <button type="button" class="btn btn-link" style="display:none" onclick="expandSubFilter(this)">
                        <span>Mở rộng</span>
                    </button>
                    <button type="button" class="btn btn-main kv2Btn" onclick="closeFilter()">Hoàn tất</button>
                </div>
            </div>
        </div>
        <div class="col-right">
            <div class="op-header">
                <div class="op-header-title op-baocao-title">
                    <h2 class="title" onclick="showTypeBc()">Báo cáo bán hàng</h2>
                </div>
                <div class="text-center">
                    <h4 class="floatleft flex  flex-center">
                        <label data-bind="text: MoiQuanTam"></label>
                    </h4>
                    <span class="floatleft" data-bind="text: TodayBC"></span>
                    <span class="floatleft">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></span>
                </div>
                <div class="flex flex-between">
                    <div class=" header-button">
                        <div class=" header-button-left">
                            <button class="btn btn-main btn-group btn-excel-report" id="btnExport" name="btnExport" data-bind="click: ExportExcel">
                                <i class="fa fa-file-excel-o"></i> Xuất Excel
                            </button>
                            <button class="btn btn-main btn-group  btn-print-report " style="display: none" type="submit" data-toggle="modal" data-target="#myModalinport">
                                <i class="fa fa-print"></i> In báo cáo
                            </button>
                            <div class="btn-dropdown pull-right" id="select-column">
                                <button type="button" class="btn btn-main  dropdown-toggle" onclick="showCollumnFilter(this)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-angle-double-down"></i>
                                </button>
                                <div class="dropdown-list" data-bind="css:listCheckbox().length>9?'dropdown-list-two':''" style="display: none;right:0">
                                    <div data-bind="if:listCheckbox().length <=9">
                                        <ul data-bind="foreach: listCheckbox">
                                            <li>
                                                <div class="checkbox">
                                                    <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div data-bind="if:listCheckbox().length >9">
                                        <div class="col-sm-6 dropdown-left">
                                            <ul data-bind="foreach: listCheckbox">
                                                <!-- ko if: $index() <=($root.listCheckbox().length/2)-->
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                    </div>
                                                </li>
                                                <!--/ko-->
                                            </ul>
                                        </div>
                                        <div class="col-sm-6 dropdown-right">
                                            <ul data-bind="foreach: listCheckbox">
                                                <!-- ko if: $index() >($root.listCheckbox().length/2)-->
                                                <li>
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                    </div>
                                                </li>
                                                <!--/ko-->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex ">
                        <div class="op-search">
                            <input type="text" class="form-control " id="txt_search" data-bind="event: {keyup: Select_Text}" placeholder="Theo mã, tên hàng, tên nhóm hàng">
                            <button type="button" class=" op-search-button" data-bind="click: LoadReport">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                        <button class="btn btn-main op-filter-toggle" onclick="showFilter()" title="Hiển thị bộ lọc">
                            <i class="material-icons">sort</i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="content-table  possible-table-tab">
                <div class="tab-content tab-show nopadding">
                    <div class="tab-pane active" data-id="@((int)commonEnum.TypeReport.tonghop)" id="home">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame" id="table-reponsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            @foreach (var item in commonEnum.listNameReportTotal)
                                            {
                                                <th class="@item.Key text-center">
                                                    <a class="black" href="javascript:void(0)">@item.Value</a>
                                                </th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_TongHop">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportTotal.Total_nhomhang text-left " data-bind="text: TenNhomHangHoa"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_mahang text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tenhang text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportTotal.Total_donvitinh text-left" data-bind="text: TenDonViTinh"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_lohang ">
                                                <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportTotal.Total_soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_thanhtien text-right " data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_giamgia text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2) "></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_doanhthuthuan text-right" data-bind="text: formatNumber3Digit(DoanhThuThuan,2) "></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tienthue text-right" data-bind="text: formatNumber3Digit(TongTienThue,2) "></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2) "></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_lailo text-right" data-bind="text: formatNumber3Digit(LaiLo,2) "></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_TongHop" hidden>
                                        <tr class="bg12 bold">
                                            <td class="@commonEnum.TypeReportTotal.Total_nhomhang text-left">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportTotal.Total_mahang"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tenhang"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_donvitinh"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_lohang"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_soluong text-right" data-bind="text: formatNumber3Digit(TH_SoLuong())"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_thanhtien text-right " data-bind="text: formatNumber3Digit(TH_ThanhTien(),2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_giamgia text-right " data-bind="text: formatNumber3Digit(TH_GiamGiaHD(),2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_doanhthuthuan text-right " data-bind="text: formatNumber3Digit($root.TH_DoanhThuThuan(),2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tienthue text-right " data-bind="text: formatNumber3Digit($root.TH_TienThue(),2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_tienvon text-right " data-bind="text: formatNumber3Digit(TH_TienVon(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right " data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2)"></td>
                                            <td class="@commonEnum.TypeReportTotal.Total_lailo text-right " data-bind="text: formatNumber3Digit(TH_LaiLo(),2)"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" data-id="@((int)commonEnum.TypeReport.chitiet)" id="Detail">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr data-bind="foreach: $root.listCheckbox">
                                            <th class="text-center" data-bind="attr:{class: Key +' text-center'}, text: Value"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_ChiTiet">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportDetail.Detail_makhach text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaKhachHang, click: $parent.LoadKhachHang_byMaKH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenkhach text-left" data-bind="text: TenKhachHang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomkhach text-right" data-bind="text: NhomKhachHang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nguonkhach text-right" data-bind="text: TenNguonKhach"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_dienthoai text-right" data-bind="text: DienThoai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nguoigioithieu text-right" data-bind="text: NguoiGioiThieu"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_machungtu text-center ">
                                                <a style="cursor: pointer" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngaychungtu text-center">
                                                <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomhang text-left "
                                                data-bind="text: TenNhomHangHoa">
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_mahang text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhang text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhangthaythe text-left" data-bind="text: TenHangHoaThayThe">
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_donvitinh text-left" data-bind="text: TenDonViTinh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_lohang">
                                                <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giaban text-right " data-bind="text: formatNumber3Digit(GiaBan,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chietkhau text-right" data-bind="text: formatNumber3Digit(TienChietKhau,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thanhtien text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giamgiahd text-right" data-bind="text: formatNumber3Digit(GiamGiaHD)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_doanhthuthuan text-right" data-bind="text: formatNumber3Digit(DoanhThu,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tienthue text-right" data-bind="text: formatNumber3Digit(TienThue,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giavon text-right" data-bind="text: formatNumber3Digit(GiaVon,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_lailo text-right" data-bind="text: formatNumber3Digit(LaiLo,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thoigianbh text-left" data-bind="text: ThoiGianBaoHanh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_hanbaohanh text-center">
                                                <span data-bind="text: moment(HanBaoHanh).format('DD/MM/YYYY')!='Invalid date'? moment(HanBaoHanh).format('DD/MM/YYYY'):''"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_trangthai text-center" data-bind="text: TrangThai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngayconhan text-right" data-bind="text: TrangThai == ''? '': TrangThai === 'Hết hạn'? formatNumber3Digit(SoNgay) * (-1):  formatNumber3Digit(SoNgay)"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.manhanvien text-center" data-bind="text: Remove_LastComma(MaNhanVien)"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.tennhanvien text-left" data-bind="text: Remove_LastComma(TenNhanVien)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ghichu text-left" data-bind="text: GhiChu"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="40"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="40"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_ChiTiet">
                                        <tr class=" bold bg12">
                                            <td class="@commonEnum.TypeReportDetail.Detail_makhach text-left">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenkhach"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomkhach"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nguonkhach"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_dienthoai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nguoigioithieu"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_machungtu"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngaychungtu"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomhang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_mahang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhangthaythe"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_donvitinh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_lohang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_soluong text-right" data-bind="text: formatNumber3Digit(CT_SoLuong())"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giaban"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chietkhau"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thanhtien text-right" data-bind="text: formatNumber3Digit(CT_ThanhTien(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giamgiahd text-right" data-bind="text: formatNumber3Digit(CT_GiamGiaHD(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_doanhthuthuan text-right" data-bind="text: formatNumber3Digit($root.TH_DoanhThuThuan(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tienthue text-right" data-bind="text: formatNumber3Digit($root.TH_TienThue(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giavon text-right"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tienvon text-right" data-bind="text: formatNumber3Digit($root.CT_TienVon(),2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_lailo text-right" data-bind="text: formatNumber3Digit($root.CT_LaiLo(),2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thoigianbh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_hanbaohanh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_trangthai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngayconhan"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.manhanvien"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.tennhanvien"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ghichu"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div> 
                    <div class="tab-pane" data-id="10" id="dinhdanhdichvu">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr data-bind="foreach: $root.listCheckbox">
                                            <th class="text-center" data-bind="attr:{class: Key +' text-center'}, text: Value"></th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_DinhDanhDichVu">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngaychungtu text-center">
                                                <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_makhach text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaDoiTuong, click: $parent.LoadKhachHang_byMaKH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenkhach text-left" data-bind="text: TenDoiTuong"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_dienthoai text-right" data-bind="text: DienThoai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_mahang text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_maDinhDanhDV text-right" data-bind="text: MaDinhDanh"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_machungtu text-center ">
                                                <a style="cursor: pointer" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhang text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomhang text-left "
                                                data-bind="text: TenNhomHangHoa">
                                            </td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giaban text-right " data-bind="text: formatNumber3Digit(DonGia,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chietkhau text-right" data-bind="text: formatNumber3Digit(TienChietKhau,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thanhtien text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.manhanvien text-center" data-bind="text: Remove_LastComma(MaNhanVien)"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.tennhanvien text-left" data-bind="text: Remove_LastComma(TenNhanVien)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ghichu text-left" data-bind="text: GhiChu"></td>
                                        </tr>
                                    </tbody>
                                    <!--ko if: !$root.role_BCBH_DinhDanhDichVu()-->
                                    <tfoot>
                                        <tr>
                                            <td class="bg12 text-center" colspan="40"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <!--/ko-->
                                    <!-- ko if: $root.role_BCBH_DinhDanhDichVu() && $root.BaoCaoBanHang_DinhDanhDichVu().length === 0 -->
                                    <tfoot>
                                        <tr>
                                            <td class="bg12 text-center" colspan="40"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <!--/ko-->

                                    <tfoot class="TC_ChiTiet" style="display:none">
                                        <tr class=" bold bg12">
                                            <td class="@commonEnum.TypeReportDetail.Detail_ngaychungtu text-left">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_makhach">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenkhach"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_dienthoai"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_mahang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_maDinhDanhDV"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_machungtu"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_tenhang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_nhomhang"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_soluong text-right"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_giaban"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chietkhau"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_thanhtien text-right"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.manhanvien"></td>
                                            <td class="@commonEnum.ColumnReportNhanVien.tennhanvien"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_ghichu"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" data-id="@((int)commonEnum.TypeReport.nhomhang)" id="nhomhanghoa">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            @foreach (var item in commonEnum.listNameReportGroupProduct)
                                            {
                                                <th class="@item.Key text-center">
                                                    <a class="black" href="javascript:void(0)">@item.Value</a>
                                                </th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_TheoNhomHang_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportGroupProduct.nhomhang text-left" data-bind="text: TenNhomHangHoa"></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.thanhtien text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.giamgia text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2)"></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.doanhthuthuan text-right" data-bind="text: formatNumber3Digit(DoanhThu,2) "></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.tienthue text-right" data-bind="text: formatNumber3Digit(TienThue,2)"></td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2) "></td>
                                            <td class=" @commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2) "></td>
                                            <td class="@commonEnum.TypeReportGroupProduct.lailo text-right" data-bind="text: formatNumber3Digit(LaiLo,2) "></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_TheoNhomHang">
                                        <tr class="bg12 bold">
                                            <td class="@commonEnum.TypeReportGroupProduct.nhomhang   text-left">Tổng cộng</td>
                                            <td class=" @commonEnum.TypeReportGroupProduct.soluong   text-right" data-bind="text: formatNumber3Digit(TNH_SoLuong())"></td>
                                            <td data-bind="text: formatNumber3Digit(TNH_ThanhTien(),2)" class="@commonEnum.TypeReportGroupProduct.thanhtien  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit(TNH_GiamGiaHD(),2)" class="@commonEnum.TypeReportGroupProduct.giamgia  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_DoanhThuThuan(),2)" class="@commonEnum.TypeReportGroupProduct.doanhthuthuan  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_TienThue(),2)" class="@commonEnum.TypeReportGroupProduct.tienthue  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit(TNH_TienVon(),2)" class="@commonEnum.TypeReportGroupProduct.tienvon  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2)" class="@commonEnum.TypeReportDetail.Detail_chiphi  text-right"></td>
                                            <td data-bind="text: formatNumber3Digit(TNH_LaiLo(),2)" class="@commonEnum.TypeReportGroupProduct.lailo  border-bottom text-right"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="khachhang">
                        <ul class="nav nav-tabs">
                            <li class="active" data-bind="click: function(){ ReportKhachHang_ChangeType(false)}">
                                <a data-toggle="tab" href="#kh_tonghop" aria-expanded="true">
                                    Tổng hợp
                                    <input hidden value="@((int)commonEnum.TypeReport.khachhang_tansuat)" />
                                </a>
                            </li>
                            <li data-bind="click: function(){ ReportKhachHang_ChangeType(true)}">
                                <a data-toggle="tab" href="#kh_chitiet">
                                    Chi tiết
                                    <input hidden value="@((int)commonEnum.TypeReport.khachhang)" />
                                </a>
                            </li>
                        </ul>
                        <div class="tab-content floatleft">
                            <div id="kh_tonghop" class="tab-pane active" data-id="@((int)commonEnum.TypeReport.khachhang_tansuat)">
                                @Html.Partial("_BCBanHangKhachHang_TongHop")
                            </div>
                            <div id="kh_chitiet" class="tab-pane" data-id="@((int)commonEnum.TypeReport.khachhang)">
                                <div class="col-md-12 content-report">
                                    <div class="table-reponsive table-frame">
                                        <table class="table table-striped table-hover" id="table_khachhang">
                                            <thead>
                                                <tr>
                                                    <th style="width:30px"></th>
                                                    @foreach (var item in commonEnum.listNameReportCustomer)
                                                    {
                                                        <th class="@item.Key text-center">
                                                            <a class="black" href="javascript:void(0)">@item.Value</a>
                                                        </th>
                                                    }
                                                </tr>
                                            </thead>
                                            <tbody data-bind="foreach: BaoCaoBanHang_TheoKhachHang_Page">
                                                <tr class="prev-tr-hide">
                                                    <td class="show-tr" data-bind="click: $parent.getList_BCBH_ChiTietTheoKhachHang">
                                                        <i class="fa fa-plus blue" aria-hidden="true"></i>
                                                        <i class="fa fa-minus blue" aria-hidden="true" style="display:none"></i>
                                                    </td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_nhomkhach text-left" data-bind="text: NhomKhachHang"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_makhac text-left ">
                                                        <a style="cursor: pointer" data-bind="text: MaKhachHang, click: $parent.LoadKhachHang_byMaKH">
                                                        </a>
                                                    </td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_tenkhach text-left" data-bind="text: TenKhachHang"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_dienthoai text-left" data-bind="text: DienThoai"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluongban text-right" data-bind="text: formatNumber3Digit(SoLuongMua) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_gtmua text-right" data-bind="text: formatNumber3Digit(GiaTriMua,2) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluongtra text-right" data-bind="text: formatNumber3Digit(SoLuongTra) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_gttra text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                                    <td class="@commonEnum.TypeReportGroupProduct.doanhthuthuan text-right" data-bind="text: formatNumber3Digit(DoanhThu,2)"></td>
                                                    <td class="@commonEnum.TypeReportGroupProduct.tienthue text-right" data-bind="text: formatNumber3Digit(TongTienThue,2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2) "></td>
                                                    <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_lailo text-right" data-bind="text: formatNumber3Digit(LaiLo,2) "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_nggioithieu  text-left" data-bind="text: NguoiGioiThieu"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_ngquanly  text-left" data-bind="text: NguoiQuanLy"></td>
                                                </tr>
                                                <tr class="tr-hide" hidden>
                                                    <td colspan="12">
                                                        <div class="op-object-detail">
                                                            <div class="table-frame">
                                                                <table class="table table-striped table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Mã hàng</th>
                                                                            <th>Tên hàng</th>
                                                                            <th class="text-left">Đvt</th>
                                                                            <th class="text-left">Lô hàng</th>
                                                                            <th class="text-right">Số lượng bán</th>
                                                                            <th class="text-right">Giá trị bán</th>
                                                                            <th class="text-right">Số lượng trả</th>
                                                                            <th class="text-right">Giá trị trả</th>
                                                                            <th class="text-right">Số lượng</th>
                                                                            <th class="text-right">Doanh thu</th>
                                                                            <th class="text-right">Tiền thuế</th>
                                                                            <th class="text-right">Tổng tiền vốn</th>
                                                                            <th class="text-right">Chi phí</th>
                                                                            <th class="text-right">Lợi nhuận</th>
                                                                        </tr>
                                                                    <tbody data-bind="foreach: $parent.BaoCaoBanHangChiTiet_TheoKhachHang_Page">
                                                                        <tr>
                                                                            <td class="bhmahh text-left ">
                                                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $root.LoadHangHoa_byMaHH">
                                                                                </a>
                                                                            </td>
                                                                            <td class="bhname cls3 text-left">
                                                                                <span data-bind="text: TenHangHoa"></span>
                                                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                                            </td>
                                                                            <td class="bhsoluong text-left" data-bind="text: TenDonViTinh"></td>
                                                                            <td>
                                                                                <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $root.LoadLoHang_byMaLH">
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(SoLuongMua)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(GiaTriMua,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(SoLuongTra)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(SoLuong)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(TongTienThue,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(ChiPhi,2)"></td>
                                                                            <td class="text-right" data-bind="text: formatNumber3Digit(LaiLo,2)"></td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <div class="page ">
                                                                    <div class="flex flex-end">
                                                                        <a href="javascript:void(0)" data-bind="click: $root.StartPage_CTKH" id="StartPage_CTKH"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                                                        <a href="javascript:void(0)" data-bind="click: $root.BackPage_CTKH" id="BackPage_CTKH"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                                                        <ul data-bind="foreach: $parent.SumNumberPageReport_CTKH">
                                                                            <li data-bind="click: $root.gotoNextPage_CTKH">
                                                                                <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass_CTKH($data)"></a>
                                                                            </li>
                                                                        </ul>
                                                                        <a href="javascript:void(0)" data-bind="click: $root.NextPage_CTKH" id="NextPage_CTKH"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                                                        <a href="javascript:void(0)" data-bind="click: $root.EndPage_CTKH" id="EndPage_CTKH"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                                                        <div class="total-recos">
                                                                            Hiển thị <span data-bind="text: $parent.RowsStart_CTKH"></span> - <span data-bind="text: $parent.RowsEnd_CTKH"></span> trên tổng số
                                                                            <span data-bind="text: $parent.SumRowsHangHoa_CTKH"></span> hàng hóa
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="out-print ">
                                                                    <button type="button" class="btn btn-main btn-green dropdown-toggle " id="btnPrintExport" name="btnExport" data-bind="visible: $parent.BCBH_XuatFile() === 'BCBH_XuatFile'" onclick="printPageKhachHangCT()" hidden><i class="fa fa-print icon-print"></i>In</button>
                                                                    <button type="button" class="btn btn-main btn-green dropdown-toggle " data-bind="click: $parent.ExportChiTietKhachHang"> <i class="fa fa-file-excel-o"></i> Xuất file</button>
                                                                </div>
                                                            </div>

                                                        </div>

                                                    </td>
                                                </tr>
                                            </tbody>
                                            <tfoot class="PhanQuyen" hidden>
                                                <tr>
                                                    <td class="bg12 text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                                </tr>
                                            </tfoot>
                                            <tfoot class="Report_Empty" hidden>
                                                <tr>
                                                    <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                                </tr>
                                            </tfoot>
                                            <tfoot class="TC_TheoKhachHang">
                                                <tr class="bg12 bold">
                                                    <td class="bg12 text-left "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_nhomkhach   text-left ">Tổng cộng</td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_makhac "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_tenkhach "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_dienthoai "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluongban  text-right " data-bind="text: formatNumber3Digit(LN_SoLuongBan())"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_gtmua  text-right " data-bind="text: formatNumber3Digit(LN_ThanhTien(),2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluongtra  text-right " data-bind="text: formatNumber3Digit(LN_SoLuongTra())"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_gttra  text-right " data-bind="text: formatNumber3Digit(LN_GiaTriTra(),2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_soluong  text-right " data-bind="text: formatNumber3Digit(KH_SoLuong())"></td>
                                                    <td class="@commonEnum.TypeReportGroupProduct.doanhthuthuan  text-right " data-bind="text: formatNumber3Digit(TH_DoanhThuThuan(),2)"></td>
                                                    <td class="@commonEnum.TypeReportGroupProduct.tienthue text-right " data-bind="text: formatNumber3Digit(TH_TienThue(),2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_tienvon  text-right " data-bind="text: formatNumber3Digit(KH_TienVon(),2)"></td>
                                                    <td class="@commonEnum.TypeReportDetail.Detail_chiphi  text-right " data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_lailo text-right " data-bind="text: formatNumber3Digit(KH_LaiLo(),2)"></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_nggioithieu "></td>
                                                    <td class="@commonEnum.TypeReportCustomer.Customer_ngquanly "></td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="nhanvien" data-id="@((int)commonEnum.TypeReport.nhanvien)">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover" id="table-nhanvien">
                                    <thead>
                                        <tr>
                                            <th style="width:30px"></th>
                                            @foreach (var item in commonEnum.listNameReportUser)
                                            {
                                                <th class="@item.Key text-center">
                                                    <a class="black" href="javascript:void(0)">@item.Value</a>
                                                </th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_TheoNhanVien_Page">
                                        <tr>
                                            <td class="show-tr" data-bind="click: $parent.getList_BCBH_ChiTietTheoNhanVien">
                                                <i class="fa fa-plus blue" aria-hidden="true"></i>
                                                <i class="fa fa-minus blue" aria-hidden="true" style="display:none"></i>
                                            </td>
                                            <td class="@commonEnum.TypeReportUser.MaNhanVien" data-bind="text: MaNhanVien"></td>
                                            <td class="@commonEnum.TypeReportUser.User_nhanvien" data-bind="text: TenNhanVien"></td>
                                            <td class="@commonEnum.TypeReportUser.User_soluong text-right" data-bind="text: formatNumber3Digit(SoLuongBan)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_thanhtien text-right" data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_soluongtra text-right" data-bind="text: formatNumber3Digit(SoLuongTra)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_giatritra text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_giamgia text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2)"></td>
                                            <td class="@commonEnum.TypeReportGroupProduct.doanhthuthuan text-right" data-bind="text: formatNumber3Digit(DoanhThu,2)"></td>
                                            <td class="@commonEnum.TypeReportGroupProduct.tienthue text-right" data-bind="text: formatNumber3Digit(TienThue,2)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2)"></td>
                                            <td class="@commonEnum.TypeReportUser.User_lailo text-right" data-bind="text: formatNumber3Digit(LaiLo,2)"></td>
                                        </tr>
                                        <tr class="tr-hide" hidden>
                                            <td colspan="15">
                                                <div class="op-object-detail ">
                                                    <div class="table-frame">
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Mã hàng</th>
                                                                    <th>Tên hàng</th>
                                                                    <th class="text-left">Đvt</th>
                                                                    <th class="text-left">Lô hàng</th>
                                                                    <th class="text-right">Số lượng bán</th>
                                                                    <th class="text-right">Thành tiền</th>
                                                                    <th class="text-right">Số lượng trả</th>
                                                                    <th class="text-right">Giá trị trả</th>
                                                                    <th class="text-right">Giảm giá HĐ</th>
                                                                    <th class="text-right">Tiền vốn</th>
                                                                    <th class="text-right">Chi phí</th>
                                                                    <th class="text-right">Lợi nhuận</th>
                                                                </tr>
                                                            <tbody data-bind="foreach: $parent.BaoCaoBanHangChiTiet_TheoNhanVien_Page">
                                                                <tr>
                                                                    <td>
                                                                        <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $root.LoadHangHoa_byMaHH">
                                                                        </a>
                                                                    </td>
                                                                    <td class="bhname cls3 text-left">
                                                                        <span data-bind="text: TenHangHoa"></span>
                                                                        <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                                    </td>
                                                                    <td class="bhsoluong text-left" data-bind="text: TenDonViTinh"></td>
                                                                    <td>
                                                                        <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $root.LoadLoHang_byMaLH">
                                                                        </a>
                                                                    </td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(SoLuongBan)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(SoLuongTra)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(ChiPhi,2)"></td>
                                                                    <td class="text-right" data-bind="text: formatNumber3Digit(LaiLo,2)"></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <div class="page ">
                                                            <div class="flex flex-end">
                                                                <a href="javascript:void(0)" data-bind="click: $root.StartPage_CT" id="StartPage_CT"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                                                <a href="javascript:void(0)" data-bind="click: $root.BackPage_CT" id="BackPage_CT"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                                                <ul data-bind="foreach: $parent.SumNumberPageReport_CT">
                                                                    <li data-bind="click: $root.gotoNextPage_CT">
                                                                        <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass_CT($data)"></a>
                                                                    </li>
                                                                </ul>
                                                                <a href="javascript:void(0)" data-bind="click: $root.NextPage_CT" id="NextPage_CT"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                                                <a href="javascript:void(0)" data-bind="click: $root.EndPage_CT" id="EndPage_CT"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                                                <div class="total-recos">
                                                                    Hiển thị <span data-bind="text: $parent.RowsStart_CT"></span> - <span data-bind="text: $parent.RowsEnd_CT"></span> trên tổng số
                                                                    <span data-bind="text: $parent.SumRowsHangHoa_CT"></span> hàng hóa
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="out-print ">
                                                            <button type="button" class="btn btn-main btn-green dropdown-toggle " id="btnPrintExport" name="btnExport" data-bind="visible: $parent.BCBH_XuatFile() === 'BCBH_XuatFile'" onclick="printPageNhanVienCT()" hidden><i class="fa fa-print icon-print"></i>In</button>
                                                            <button type="button" class="btn btn-main btn-green dropdown-toggle " data-bind="click: $parent.ExportChiTietNhanVien"> <i class="fa fa-file-excel-o"></i> Xuất file</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="13"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_TheoNhanVien">
                                        <tr class="bg12 bold">
                                            <td class="@commonEnum.TypeReportUser.User_nhanvien" colspan="2">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportUser.MaNhanVien"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_SoLuongBan())" class="@commonEnum.TypeReportUser.User_soluong text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_ThanhTien(),2)" class="@commonEnum.TypeReportUser.User_thanhtien text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_SoLuongTra())" class="@commonEnum.TypeReportUser.User_soluongtra text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_GiaTriTra(),2)" class="@commonEnum.TypeReportUser.User_giatritra text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_GiamGiaHD(),2)" class="@commonEnum.TypeReportUser.User_giamgia border-bottom text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_DoanhThuThuan(),2)" class="@commonEnum.TypeReportGroupProduct.doanhthuthuan  border-bottom text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_TienThue(),2)" class="@commonEnum.TypeReportGroupProduct.tienthue border-bottom text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_TienVon(),2)" class="@commonEnum.TypeReportUser.User_tienvon text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2)" class="@commonEnum.TypeReportDetail.Detail_chiphi text-right bold"></td>
                                            <td data-bind="text: formatNumber3Digit(NV_LaiLo(),2)" class="@commonEnum.TypeReportUser.User_lailo border-bottom text-right bold"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="hangtralai" data-id="@((int)commonEnum.TypeReport.hangtralai)">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtug">Mã chứng từ gốc</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtu">Mã chứng từ</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_ngaychungtu"> Ngày chứng từ</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_mahang">Mã hàng</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_tenhang">Tên hàng</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_donvitinh text-left">Đvt</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_lohang text-left">Lô hàng</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_soluong text-right">Số lượng</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_thanhtien text-right">Thành tiền</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_giamgia text-right">Giảm giá HĐ</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_phaithanhtoan text-right">Phải thanh toán</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_nhanvien text-center">Nhân viên</th>
                                            <th class="@commonEnum.TypeReportProductReturn.ProductReturn_ghichu text-center">Ghi chú</th>
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_HangTraLai_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtug text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaChungTuGoc, click: $parent.LoadChungTuGoc_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtu text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaChungTu, click: $parent.LoadChungTu_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_ngaychungtu text-left">
                                                <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_mahang text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_tenhang text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_donvitinh text-left" data-bind="text: TenDonViTinh"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_lohang">
                                                <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_soluong text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_thanhtien  text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_giamgia  text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2) "></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_phaithanhtoan text-right " data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_nhanvien text-center" data-bind="text: TenNhanVien"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_ghichu text-left" data-bind="text: GhiChu"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="15"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="15"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_HangTraLai">
                                        <tr>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtug  bg12 text-left bold">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_machungtu bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_ngaychungtu bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_mahang bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_tenhang bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_donvitinh bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_lohang bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_soluong bg12 text-right bold" data-bind="text: formatNumber3Digit(HTL_SoLuongBan())"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_thanhtien bg12 text-right bold" data-bind="text: formatNumber3Digit(HTL_ThanhTien(),2)"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_giamgia bg12 text-right bold" data-bind="text: formatNumber3Digit(HTL_GiamGiaHD(),2)"></td>
                                            <td data-bind="text: formatNumber3Digit(HTL_GiaTriTra(),2)" class="@commonEnum.TypeReportProductReturn.ProductReturn_phaithanhtoan bg12 text-right bold"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_nhanvien bg12"></td>
                                            <td class="@commonEnum.TypeReportProductReturn.ProductReturn_ghichu bg12"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="hangkhuyenmai" data-id="@((int)commonEnum.TypeReport.hangkhuyenmai)">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table-new table-hover">
                                    <thead>
                                        <tr>
                                            @foreach (var item in commonEnum.DictionaryReportPromotion)
                                            {
                                                <th class="@item.Key">
                                                    <a href="javascript:void(0)">@item.Value</a>
                                                </th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoHangKhuyenMai_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.ReportPromotion.makhuyenmai">
                                                <a href="javascript: void(0)" data-bind="text: MaKhuyenMai, click: $parent.LoadChungTuGoc_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.ReportPromotion.tenkhuyenmai" data-bind="text: TenKhuyenMai">  </td>
                                            <td class="@commonEnum.ReportPromotion.hinhthuc" data-bind="text: sHinhThuc">  </td>
                                            <td class="@commonEnum.ReportPromotion.mahoadon">
                                                <a href="javascript: void(0)" data-bind="text: MaHoaDon, click: $parent.LoadChungTuGoc_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.ReportPromotion.ngaylaphd" data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm')"> </td>
                                            <td class="@commonEnum.ReportPromotion.madoituong">
                                                <a href="javascript: void(0)" data-bind="text: MaDoiTuong, click: $parent.LoadChungTuGoc_byMaHD">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.ReportPromotion.tendoituong" data-bind="text: TenDoiTuong"></td>
                                            <td class="@commonEnum.ReportPromotion.tongtienhang" data-bind="text: formatNumber3Digit(TongTienHang,2)"> </td>
                                            <td class="@commonEnum.ReportPromotion.mahanghoa" data-bind="text: MaHangHoa"></td>
                                            <td class="@commonEnum.ReportPromotion.tenhanghoa text-right" data-bind="text: TenHangHoa"></td>
                                            <td class="@commonEnum.ReportPromotion.soluong text-right" data-bind="text: SoLuong"></td>
                                            <td class="@commonEnum.ReportPromotion.giatrikm text-right " data-bind="text: formatNumber3Digit(GiaTriKM,2)"></td>
                                            <td class="@commonEnum.ReportPromotion.nguoitao text-center" data-bind="text: NguoiTao"></td>
                                            <td class="@commonEnum.ReportPromotion.nvban text-left" data-bind="text: TenNhanVien"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="Report_Empty" data-bind="visible: BaoCaoHangKhuyenMai().length === 0">
                                        <tr>
                                            <td class="bg12 text-center" colspan="15"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TF_HangKMai" data-bind="visible: BaoCaoHangKhuyenMai().length > 0">
                                        <tr class="bg12">
                                            <td class="@commonEnum.ReportPromotion.makhuyenmai">Tổng cộng</td>
                                            <td class="@commonEnum.ReportPromotion.tenkhuyenmai text-left bold">Tổng cộng</td>
                                            <td class="@commonEnum.ReportPromotion.hinhthuc "></td>
                                            <td class="@commonEnum.ReportPromotion.mahoadon"></td>
                                            <td class="@commonEnum.ReportPromotion.ngaylaphd"></td>
                                            <td class="@commonEnum.ReportPromotion.madoituong"></td>
                                            <td class="@commonEnum.ReportPromotion.tendoituong"></td>
                                            <td class="@commonEnum.ReportPromotion.tongtienhang text-right bold" data-bind="text: formatNumber3Digit(HTL_ThanhTien(),2)"></td>
                                            <td class="@commonEnum.ReportPromotion.mahanghoa"></td>
                                            <td class="@commonEnum.ReportPromotion.tenhanghoa text-right bold"></td>
                                            <td class="@commonEnum.ReportPromotion.soluong text-right bold" data-bind="text: formatNumber3Digit(HTL_SoLuongBan())"></td>
                                            <td class="@commonEnum.ReportPromotion.giatrikm text-right bold" data-bind="text: formatNumber3Digit(HTL_GiamGiaHD(),2)"></td>
                                            <td class="@commonEnum.ReportPromotion.nguoitao"></td>
                                            <td class="@commonEnum.ReportPromotion.nvban"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="loinhuan" data-id="@((int)commonEnum.TypeReport.loinhuan)">
                        <div class="col-md-12 content-report">
                            <div class="table-reponsive table-frame">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            @foreach (var item in commonEnum.listNameReportprofit)
                                            {
                                                <th class="@item.Key text-center">
                                                    <a class="black" href="javascript:void(0)">@item.Value</a>
                                                </th>
                                            }
                                        </tr>
                                    </thead>
                                    <tbody data-bind="foreach: BaoCaoBanHang_LoiNhuan_Page">
                                        <tr class="prev-tr-hide">
                                            <td class="@commonEnum.TypeReportprofit.profit_mahang text-left ">
                                                <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tenhang text-left">
                                                <span data-bind="text: TenHangHoa"></span>
                                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                            </td>
                                            <td class="@commonEnum.TypeReportprofit.profit_donvitinh text-left" data-bind="text: TenDonViTinh"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_lohang">
                                                <a style="cursor: pointer" class=" text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                </a>
                                            </td>
                                            <td class="@commonEnum.TypeReportprofit.profit_soluongb text-right" data-bind="text: formatNumber3Digit(SoLuongBan) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_thanhtien text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_soluongtra text-right" data-bind="text: formatNumber3Digit(SoLuongTra) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_giatritra text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_giangiahd text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_doanhthu text-right" data-bind="text: formatNumber3Digit(DoanhThuThuan,2) "></td>
                                            <td class="@commonEnum.ColumnInvoices.tienthue text-right" data-bind="text: formatNumber3Digit(TienThue,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tongtienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2) "></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit(ChiPhi,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_loinhuan text-right" data-bind="text: formatNumber3Digit(LaiLo,2) "></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tysuat text-right " data-bind="text: formatNumber3Digit(TySuat,2) + ' %'"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="PhanQuyen" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="Report_Empty" hidden>
                                        <tr>
                                            <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                        </tr>
                                    </tfoot>
                                    <tfoot class="TC_LoiNhuan">
                                        <tr class="bg12 bold">
                                            <td class="@commonEnum.TypeReportprofit.profit_mahang text-left">Tổng cộng</td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tenhang"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_donvitinh"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_lohang"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_soluongb text-right" data-bind="text: formatNumber3Digit(LN_SoLuongBan())"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_thanhtien text-right" data-bind="text: formatNumber3Digit(LN_ThanhTien(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_soluongtra text-right" data-bind="text: formatNumber3Digit(LN_SoLuongTra())"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_giatritra text-right" data-bind="text: formatNumber3Digit(LN_GiaTriTra(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_giangiahd text-right" data-bind="text: formatNumber3Digit(LN_GiamGiaHD(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_doanhthu text-right" data-bind="text: formatNumber3Digit(LN_DoanhThuThuan(),2)"></td>
                                            <td class="@commonEnum.ColumnInvoices.tienthue text-right" data-bind="text: formatNumber3Digit(TH_TienThue(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tongtienvon text-right" data-bind="text: formatNumber3Digit(LN_TienVon(),2)"></td>
                                            <td class="@commonEnum.TypeReportDetail.Detail_chiphi text-right" data-bind="text: formatNumber3Digit($root.TH_TongChiPhi(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_loinhuan text-right" data-bind="text: formatNumber3Digit(LN_LaiLo(),2)"></td>
                                            <td class="@commonEnum.TypeReportprofit.profit_tysuat text-right" data-bind="text: formatNumber3Digit(LN_TySuat(),2) + ' %'"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-12 margin-page">
                        <div class="page">
                            <div class="flex flex-row">
                                <label>Số bản ghi:</label>
                                <select class="form-control  seleted-page" data-bind="value: $root.pageSize,
                                                options: $root.pageSizes, event: {change: $root.ResetCurrentPage}"></select>
                            </div>
                            <div class="flex flex-end">
                                <a href="javascript:void(0)" data-bind="click: $root.StartPage" id="StartPage"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                                <a href="javascript:void(0)" data-bind="click: $root.BackPage" id="BackPage"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                                <ul data-bind="foreach: $root.SumNumberPageReport">
                                    <li data-bind="click: $root.gotoNextPage">
                                        <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass($data)"></a>
                                    </li>
                                </ul>
                                <a href="javascript:void(0)" data-bind="click: $root.NextPage" id="NextPage"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                                <a href="javascript:void(0)" data-bind="click: $root.EndPage" id="EndPage"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                                <div class="total-recos">
                                    Hiển thị <span data-bind="text: RowsStart"></span> - <span data-bind="text: RowsEnd"></span> trên tổng số
                                    <span data-bind="text: $root.SumRowsHangHoa"></span>
                                    <span data-bind="text: $root.LoaiBaoCao"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="repost-bg floatleft" id="printtableNhanVienCT" hidden>
            <div class="repost header-report_Tr">
                <div class="col-md-12  header-report">
                    <div class="repost">
                        <div class="title-report-center"><span data-bind="text: MoiQuanTam"></span></div>
                        <p data-bind="text: TodayBC"></p>
                        <p class="nameChiNhanhTr">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></p>
                        <p class="nameChiNhanhTr itemLeft" style="font-size: 13px;">Tên NV: <span data-bind="text: TenNVPrint"></span></p>
                    </div>
                </div>
            </div>
            <div id="table-reponsive table-frame">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th class="itemLeft" style="padding-left: 9px;">Mã hàng</th>
                            <th class="itemLeft" style="padding-left: 9px;">Tên hàng</th>
                            <th class="itemRight" style="padding-right: 9px;">Số lượng bán</th>
                            <th class="itemRight" style="padding-right: 9px;">Thành tiền</th>
                            <th class="itemRight" style="padding-right: 9px;">Số lượng trả</th>
                            <th class="itemRight" style="padding-right: 9px;">Giá trị trả</th>
                            <th class="itemRight" style="padding-right: 9px;">Giảm giá HĐ</th>
                            <th class="itemRight" style="padding-right: 9px;">Tiền vốn</th>
                            <th class="itemRight" style="padding-right: 9px;">Lợi nhuận</th>
                        </tr>
                    <tbody data-bind="foreach: BaoCaoBanHangChiTiet_TheoNhanVien">
                        <tr>
                            <td data-bind="text: MaHangHoa" class="itemLeft" style="padding-left: 9px;"></td>
                            <td class="bhname cls3 itemLeft" style="padding-left: 9px;">
                                <span data-bind="text: TenHangHoa"></span>
                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                <span data-bind="text: TenDonViTinh" style="color:#0094ff"></span>
                                <span data-bind="text: TenLoHang" style="color:#000000"></span>
                            </td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(SoLuongBan)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(SoLuongTra)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(GiamGiaHD,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(LaiLo,2)"></td>
                        </tr>
                    </tbody>
                    <tfoot class="TongCongNhanVien">
                        <tr>
                            <td class="bg12 itemLeft bold">Tổng cộng: </td>
                            <td class="bg12 bold"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_SoLuongBanPrint())"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_ThanhTienPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_SoLuongTraPrint())"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_GiaTriTraPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_GiamGiaHDPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_TienVonPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit(NV_LaiLoPrint(),2)"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        <div class="repost-bg floatleft" id="printtableKhachHangCT" hidden>
            <div class="repost header-report_Tr">
                <div class="col-md-12 header-report">
                    <div class="repost">
                        <div class="title-report-center"><span data-bind="text: MoiQuanTam"></span></div>
                        <p data-bind="text: TodayBC"></p>
                        <p class="nameChiNhanhTr">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></p>
                        <p class="nameChiNhanhTr itemLeft" style="font-size: 13px;">Tên KH: <span data-bind="text: TenKHPrint"></span></p>
                    </div>
                </div>
            </div>
            <div id="table-reponsive table-frame">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Mã hàng</th>
                            <th>Tên hàng</th>
                            <th class="itemRight">Số lượng bán</th>
                            <th class="itemRight">Giá trị bán</th>
                            <th class="itemRight">Số lượng trả</th>
                            <th class="itemRight">Giá trị trả</th>
                            <th class="itemRight">Số lượng</th>
                            <th class="itemRight">Doanh thu</th>
                            <th class="itemRight">Tiền thuế</th>
                            <th class="itemRight">Tiền vốn</th>
                            <th class="itemRight">Lợi nhuận</th>
                        </tr>
                    <tbody data-bind="foreach: BaoCaoBanHangChiTiet_TheoKhachHang">
                        <tr>
                            <td data-bind="text: MaHangHoa" class="itemLeft" style="padding-left: 9px;"></td>
                            <td class="bhname cls3 itemLeft" style="padding-left: 9px;">
                                <span data-bind="text: TenHangHoa"></span>
                                <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                <span data-bind="text: TenDonViTinh" style="color:#0094ff"></span>
                                <span data-bind="text: TenLoHang" style="color:#000000"></span>
                            </td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(SoLuongMua)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(GiaTriMua,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(SoLuongTra)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(GiaTriTra,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(SoLuong)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(ThanhTien,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(TongTienThue,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(TienVon,2)"></td>
                            <td class="itemRight" style="padding-right: 9px;" data-bind="text: formatNumber3Digit(LaiLo,2)"></td>
                        </tr>
                    </tbody>
                    <tfoot class="TongCongNhanVien">
                        <tr>
                            <td class="bg12 itemLeft bold">Tổng cộng: </td>
                            <td class="bg12 bold"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_SoLuongBanPrint())"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_GiatriBanPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_SoLuongTraPrint())"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_GiatriTraPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_SoLuongPrint())"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_ThanhTienPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_TongThuePrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_TienVonPrint(),2)"></td>
                            <td class="bg12 itemRight bold" data-bind="text: formatNumber3Digit($root.KH_LaiLoPrint(),2)"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
@Html.Partial("_NhatKyGiaoDich")
<script>
    $(function () {
        $('.newDateTime').daterangepicker({
            linkedCalendars: false,
            showCustomRangeLabel: true,
            locale: {
                "format": 'DD/MM/YYYY',
                "separator": " - ",
                "applyLabel": "Tạo báo cáo",
                "cancelLabel": "Hủy",
                "fromLabel": "Từ",
                "toLabel": "Đến",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "CN",
                    "T2",
                    "T3",
                    "T4",
                    "T5",
                    "T6",
                    "T7"
                ],
                "monthNames": [
                    "Tháng 1",
                    "Tháng 2",
                    "Tháng 3",
                    "Tháng 4",
                    "Tháng 5",
                    "Tháng 6",
                    "Tháng 7",
                    "Tháng 8",
                    "Tháng 9",
                    "Tháng 10",
                    "Tháng 11",
                    "Tháng 12"
                ],
                "firstDay": 1
            }
        });
    });
    $(document).on('click', '.choose_TimeReport .choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $(document).on('click', '.choose_TimeReport .choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $('#table-nhanvien').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    $('#table_khachhang').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    function LoadingForm1(IsShow) {
        $('.tab-show .tab-pane').each(function () {
            if ($(this).hasClass('active')) {
                var top = $(this).find('.table-reponsive').height() / 2;
                var style = "top:" + (top > 30 ? top - 30 : top) + "px";
                $(this).find('.table-reponsive').gridLoader({ show: IsShow, style: style });
            }
        });
    }
    function printPage() {
        $.ajax({
            url: "/Template/DuLieuGoc/outPresentationlayout1.out.html", cache: false,
            success: function (data) {
                var frame1 = $('<iframe />');
                frame1[0].name = "frame1";
                frame1.css({ "position": "absolute", "top": "-100000px" });
                $("body").append(frame1);
                var frameDoc = frame1[0].contentWindow ? frame1[0].contentWindow : frame1[0].contentDocument.document ? frame1[0].contentDocument.document : frame1[0].contentDocument;
                frameDoc.document.open();
                frameDoc.document.write(data);
                frameDoc.document.close();
                window.frames["frame1"].print();
            },
            complete: function (jqXHR) {
                if (jqXHR.status == 403) {
                    window.location.href = jqXHR.responseJSON.LogOnUrl
                }
            }
        });
    }
    function printPageNhanVienCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableNhanVienCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    function printPageKhachHangCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableKhachHangCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    $('body').on('successPrint', function () {
        LoadingForm1(false);
    })
    function ShowNhom($this) {
        $this.next("ul").toggleClass("open");
    };

</script>
<style>
    .tab-pane {
        position: relative;
    }

    .StartImport {
        margin-right: 5px;
        z-index: 0;
        display: inline-block;
        background: #808080;
        color: #fff;
        font-weight: bold;
        font-size: 12px;
        padding: 7px 15px;
        white-space: nowrap;
        border: none;
        vertical-align: middle;
        border-radius: 2px;
        cursor: pointer;
    }

    .SelectReport {
        background: #bee69f;
        color: #000000;
    }

    .li-input-span {
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }

    .li-input-select {
        background: #fff;
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }

    .check-after-li {
        float: right;
        padding-right: 20px;
        line-height: 24px;
        color: #009ddc;
        display: inline !important;
        position: absolute;
        top: 3px;
        right: 7px;
        padding-right: 0;
    }

    .nameDonVi input {
        border: none;
        height: 30px;
        outline: none;
        padding-left: 10px;
        width: 50%;
    }
</style>

<script src="@Html.WriteRenderFile(Scripts.Url("~/bundles/ReportBanHang"))" type="text/javascript"></script>

<script>
    $(document).mouseup(function (e) {
        var container = $(".op-baocao-type");
        if (!container.is(e.target) && container.has(e.target).length === 0) {
            container.removeClass('showed')
        }
    });
    function showlistTree(ele) {
        $(ele).parent().toggleClass('showed');
    }
    function showTypeBc() {
        $(".op-baocao-type").toggleClass('showed');
    }
</script>