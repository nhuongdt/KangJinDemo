@using System.Web.Optimization;
@using banhang24.Hellper;
@{
    Layout = null;
    ViewBag.Title = "Open24.vn - Báo cáo bán hàng";
}
@Html.Hidden("loaibaocao", (int)commonEnum.GroupReport.goidichvu, new { @id = "ID_loaibaocao" })
@Html.Hidden("tonghop", (int)commonEnum.TypeReport.tonghop, new { @id = "ID_tonghop" })
@Html.Hidden("duchitiet", (int)commonEnum.TypeReport.duchitiet, new { @id = "ID_duchitiet" })
@Html.Hidden("nhatkysdth", (int)commonEnum.TypeReport.nhatkysdth, new { @id = "ID_nhatkysdth" })
@Html.Hidden("nhatkysdct", (int)commonEnum.TypeReport.nhatkysdct, new { @id = "ID_nhatkysdct" })

<script>
    $('.chose_kieubang li').on('click', function () {
        var tar = $(this).children('a').attr('data-target');
        $(this).find('input[type="radio"]').prop('checked', true);
        $('#' + tar).siblings('.tab-pane').hide();
        $('#' + tar).show();
    })
</script>
<div class="op-container ">
    <div class="container-fluid nopadding position-relative">
        <div class="op-baocao-type">
            <ul class=" chose_kieubang ul-radius">
                <li value="1" class="active" data-id="@((int)commonEnum.TypeReport.tonghop)">
                    <a data-target="sodugoidichvu">
                        <input type="radio" name="kieubang" id='soduthegiatri' checked value="1">
                        <label for='soduthegiatri'>Số dư </label>
                    </a>
                </li>
                <li value="2" data-id="@((int)commonEnum.TypeReport.nhatkysdth)">
                    <a data-target="nhatkysudung">
                        <input type="radio" name="kieubang" value="2" id='nhatkythegiatri'>
                        <label for='nhatkythegiatri'>Nhật ký sử dụng</label>
                    </a>
                </li>
                <li value="3" data-id="@((int)commonEnum.TypeReport.tonchuasudung)">
                    <a data-target="tonchuasudung">
                        <input type="radio" name="kieubang" value="3" id='tondvthegiatri'>
                        <label for='tondvthegiatri'>Tồn dịch vụ chưa sử dụng</label>
                    </a>
                </li>
                <li value="4" data-id="@((int)commonEnum.TypeReport.nhapxuatton)">
                    <a data-target="nhapxuatton">
                        <input type="radio" name="kieubang" value="4" id='nhapxuatthegiatri'>
                        <label for='nhapxuatthegiatri'>Nhập xuất tồn dịch vụ</label>
                    </a>
                </li>
            </ul>
        </div>
        <div class="col-left">
            <div class=" op-filter ">
                <span class="title-report"> </span>
                <section class="op-filter-body">
                    <article class="boxLeft op-baocao-classic">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/report-loaibaocao.png"> Loại báo cáo
                        </h3>
                        <aside class="op-filter-container">
                            <ul class=" chose_kieubang ul-radius">
                                <li value="1" class="active" data-id="@((int)commonEnum.TypeReport.tonghop)">
                                    <a data-target="sodugoidichvu" class="box-tab">
                                        <input type="radio" name="kieubang" id='soduthegiatri1' checked value="1">
                                        <label for='soduthegiatri1'>Số dư </label>
                                    </a>
                                </li>
                                <li value="2" data-id="@((int)commonEnum.TypeReport.nhatkysdth)">
                                    <a data-target="nhatkysudung">
                                        <input type="radio" name="kieubang" value="2" id='nhatkythegiatri1'>
                                        <label for='nhatkythegiatri1'>Nhật ký sử dụng</label>
                                    </a>
                                </li>
                                <li value="3" data-id="@((int)commonEnum.TypeReport.tonchuasudung)">
                                    <a data-target="tonchuasudung">
                                        <input type="radio" name="kieubang" value="3" id='tondvthegiatri1'>
                                        <label for='tondvthegiatri1'>Tồn dịch vụ chưa sử dụng</label>
                                    </a>
                                </li>
                                <li value="4" data-id="@((int)commonEnum.TypeReport.nhapxuatton)">
                                    <a data-target="nhapxuatton">
                                        <input type="radio" name="kieubang" value="4" id='nhapxuatthegiatri1'>
                                        <label for='nhapxuatthegiatri1'>Nhập xuất tồn dịch vụ</label>
                                    </a>
                                </li>
                            </ul>
                        </aside>
                    </article>
                    <article class="boxLeft showChiNhanh">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/chinhanh-black.png">    Chi nhánh
                        </h3>
                        <aside class="op-filter-container">
                            <div class="outselect">
                                <div class="nameDonVi choose-person floatleft " data-toggle="dropdown" id="choose_DonVi">
                                    <ul data-bind="foreach: MangChiNhanh">
                                        <li class="li-input-span">
                                            <span data-bind="text: TenDonVi">
                                            </span>
                                            <span data-bind="click: $parent.CloseDonVi">
                                                <i class="fa fa-times"></i>
                                            </span>
                                        </li>
                                    </ul>
                                    <input type="text" class="dropdown nameDonVi" id="NoteNameDonVi" data-bind="event:{keyup: NoteNameDonVi}" placeholder="Chọn chi nhánh..." />
                                </div>
                                <div class="selec-person dropdown-menu" id="selec-all-DonVi">
                                    <ul>
                                        <li data-bind="click: SelectedDonVi">
                                            <span>Tất cả chi nhánh</span>
                                        </li>
                                        <!--ko foreach: ArrDonVi-->
                                        <li data-bind="attr:{id: ID}, click: $parent.SelectedDonVi">
                                            <span data-bind="text: TenDonVi "></span>
                                        </li>
                                        <!--/ko-->
                                    </ul>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft DatePK showDate" hidden>
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="~/Content/images/icon/thoigian.png" />      Đến ngày
                        </h3>
                        <aside class="op-filter-container DatePK">
                            <div class="menuCheckbox choose_TimeReport">
                                <div class="form-group floatleft">
                                    <div class="floatleft form-wrap ">
                                        <input class="form-control" id="datetimepicker_mask" type="text" autocomplete="off">
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft showDateRange">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/thoigian.png">      Thời gian
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuCheckbox choose_TimeReport">
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="1" checked>
                                    </div>
                                    <div class="conten-choose">
                                        <div class=" choose-date">
                                            <div class="dr_TimeReport" data-toggle="dropdown" aria-expanded="true">
                                                <input type="text" class="dropdown form-control choose-date-show ip_TimeReport" placeholder="Hôm nay">
                                            </div>
                                            <div class="dropdown-menu choose_txtTime">
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo ngày và tuần</h3>
                                                    <ul>
                                                        <li value="1" style="display: block;"><a href="javascript:void(0);">Hôm nay</a></li>
                                                        <li value="2" style="display: block;"><a href="javascript:void(0);">Hôm qua</a></li>
                                                        <li value="3" style="display: block;"><a href="javascript:void(0);">Tuần này</a></li>
                                                        <li value="4" style="display: block;"><a href="javascript:void(0);">Tuần trước</a></li>
                                                        <li value="5" style="display: block;"><a href="javascript:void(0);">7 ngày qua</a></li>
                                                    </ul>
                                                </div>
                                                <div class="col-md-4 col-sm-4">
                                                    <h3>Theo tháng và quý</h3>
                                                    <ul>
                                                        <li value="6" style="display: block;"><a href="javascript:void(0);">Tháng này</a></li>
                                                        <li value="7" style="display: block;"><a href="javascript:void(0);">Tháng trước</a></li>
                                                        <li value="8" style="display: block;"><a href="javascript:void(0);">30 ngày qua</a></li>
                                                        <li value="9" style="display: block;"><a href="javascript:void(0);">Quý này</a></li>
                                                        <li value="10" style="display: block;"><a href="javascript:void(0);">Quý trước</a></li>
                                                    </ul>
                                                </div><div class="col-md-4 col-sm-4">
                                                    <h3>Theo năm</h3>
                                                    <ul>
                                                        <li value="11" class="ng-scope" style="display: block;"><a href="javascript:void(0);">Năm này</a></li>
                                                        <li value="12" class="ng-scope" style="display: block;"><a href="javascript:void(0);">Năm trước</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group floatleft">
                                    <div class="radio-menu">
                                        <input type="radio" name="rd_TimeReport" value="2">
                                    </div>
                                    <div class="conten-choose">
                                        <div class="floatleft form-wrap">
                                            <input type="text" class="form-control ip_DateReport newDateTime" name="daterange" disabled="disabled">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </article>
                    <!--ko if: (check_MoiQuanTam() === 2 && tab_NhatKySuDung() !== 1) || check_MoiQuanTam() !== 2-->
                    <article class="boxLeft">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/trangthai-black.png"> Thời hạn sử dụng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio chose_ThoiHanSuDung">
                                <ul>
                                    <li>
                                        <label><input type="radio" name="rdThoiHan" data-bind="checked: Loc_HanSuDungDV" value="1" /> Tất cả</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdThoiHan" data-bind="checked: Loc_HanSuDungDV" value="2" /> Còn hạn sử dụng</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdThoiHan" data-bind="checked: Loc_HanSuDungDV" value="3" /> Hết hạn sử dụng</label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/trangthai-black.png"> Trạng thái hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="menuRadio chose_TinhTrangKD">
                                <ul>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="1" /> Tất cả</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="2" /> Hàng đang kinh doanh</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="3" /> Hàng ngừng kinh doanh</label>
                                    </li>
                                    <li>
                                        <label><input type="radio" name="rdTuyChon" data-bind="checked: Loc_TinhTrangKD" value="4" /> Hàng xóa bỏ</label>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                    </article>
                    <article class="boxLeft">
                        <h3 class="op-filter-title" onclick="toggleSubFilter(this)">
                            <img src="/Content/images/icon/nhomhang-black.png">  Nhóm hàng
                        </h3>
                        <aside class="op-filter-container">
                            <div class="seach-nhomhang">
                                <i class="fa fa-search" style="display:inline-block"></i>
                                <input type="text" class="seach-nhomhang" data-bind="event: {keyup: NoteNhomHang}" id="SeachNhomHang" placeholder="Tìm kiếm nhóm hàng" style="display:inline-block; width: calc(100% - 30px)" />
                            </div>
                            <div id="tatcanhh" class="treename SelectALLNhomHang yellow" data-bind="click: $root.SelectRepoert_NhomHangHoa">
                                <i class="fa fa-angle-right" aria-hidden="true"></i> Tất cả
                            </div>
                            <ul class="treeview floatleft SelectNhomHang" id="treeviewnhomhang" data-bind="foreach: NhomHangHoas">
                                <li class="ss-li">
                                    <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                        <span class="treename" data-bind="text: TenNhomHangHoa"></span>
                                    </div>
                                    <span class="close-ul" onclick="ShowNhom($(this))" data-bind="visible: Childs.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>
                                    <ul data-bind="foreach: Childs">
                                        <li>
                                            <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                <a href="javascript:void(0)" data-bind="click: $root.editNhomHangHoa"><i class="fa fa-pencil-square-o"></i></a>
                                            </div>
                                            <span class="close-ul" onclick="ShowNhom($(this))" data-bind="visible: Child2s.length >0 "><i class="fa fa-caret-right" aria-hidden="true"></i></span>
                                            <ul data-bind="foreach: Child2s">
                                                <li>
                                                    <div class="li-top li-oo" data-bind="click: $root.SelectRepoert_NhomHangHoa, attr:{id: ID}">
                                                        <span data-bind="text: TenNhomHangHoa" class="li-top li-pp"></span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </aside>
                    </article>
                    <!--/ko-->
                </section>
                <div class="op-filter-footer">
                    <button type="button" class="btn btn-link" style="color:red" onclick="closeFilter()">Hủy</button>
                    <button type="button" class="btn btn-link" onclick="collapseSubFilter(this)">
                        <span>Thu gọn</span>
                    </button>
                    <button type="button" class="btn btn-link" style="display:none" onclick="expandSubFilter(this)">
                        <span>Mở rộng</span>
                    </button>
                    <button type="button" class="btn btn-main kv2Btn" onclick="closeFilter()">Hoàn tất</button>
                </div>
            </div>
        </div>
        <div class="col-right">
            <div class="op-header">
                <div class="op-header-title op-baocao-title">
                    <h2 class="title" onclick="showTypeBc()">Báo cáo gói dịch vụ</h2>
                </div>
                <div class="" style="height:unset; text-align:center">
                    <h4 class="floatleft flex  flex-center">
                        <label data-bind="text: MoiQuanTam"></label>
                    </h4>
                    <span class="floatleft" data-bind="text: TodayBC, visible: $root.check_MoiQuanTam()!==3"></span>
                    <span class="floatleft" data-bind="text: TodayBC_TK, visible: $root.check_MoiQuanTam() ==3"></span>
                    <span class="floatleft">Chi nhánh: <span data-bind="text: TenChiNhanh"></span></span>
                </div>
                <div class="flex flex-between flex-row">
                    <div class=" header-button">
                        <button class="btn btn-main btn-group btnExport  btn-excel-report" id="btnExport" name="btnExport" data-bind="click: ExportExcel">
                            <i class="fa fa-file-excel-o"></i> Xuất Excel
                        </button>
                        <button class="btn btn-main btn-group  btn-print-report" style="display: none" type="submit" data-toggle="modal">
                            <img src="/Content/images/icon/print-black.png"> In báo cáo
                        </button>
                        <!--ko if: (check_MoiQuanTam() === 2 && tab_NhatKySuDung() !== 1) || check_MoiQuanTam() !== 2-->
                        <div class="dropdown " id="select-column">
                            <button type="button" class="btn btn-main  dropdown-toggle" onclick="showCollumnFilter(this)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-angle-double-down"></i>
                            </button>
                            <div class="dropdown-list" data-bind="css:listCheckbox().length>9?'dropdown-list-two':''" style="display: none;top:100%; left:0">
                                <div data-bind="if:listCheckbox().length <=9">
                                    <ul data-bind="foreach: listCheckbox">
                                        <li>
                                            <div class="checkbox">
                                                <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div data-bind="if:listCheckbox().length >9">
                                    <div class="col-md-6 dropdown-left">
                                        <ul data-bind="foreach: listCheckbox">
                                            <!-- ko if: $index() <=($root.listCheckbox().length/2)-->
                                            <li>
                                                <div class="checkbox">
                                                    <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                </div>
                                            </li>
                                            <!--/ko-->
                                        </ul>
                                    </div>
                                    <div class="col-md-6 dropdown-right">
                                        <ul data-bind="foreach: listCheckbox">
                                            <!-- ko if: $index() >($root.listCheckbox().length/2)-->
                                            <li>
                                                <div class="checkbox">
                                                    <label><input type="checkbox" class="checkbox" checked="checked" data-bind="value:Key"><span></span><label class="nopadding" data-bind="text:Value" /></label>
                                                </div>
                                            </li>
                                            <!--/ko-->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--/ko-->
                    </div>
                    <div class="flex ">
                        <div class="op-search">
                            <input type="text" class="form-control " id="txt_search"
                                   data-bind="event: {keyup: Select_Text}" placeholder="Theo mã chứng từ, khách hàng, dịch vụ">
                            <button type="button" class="op-search-button" data-bind="click: LoadReport">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>

                        <button class="btn btn-main op-filter-toggle" onclick="showFilter()" title="Hiển thị bộ lọc">
                            <i class="material-icons">sort</i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="tab-content tab-show nopadding">
                <div class="tab-pane active tab" id="sodugoidichvu" data-id="@((int)commonEnum.TypeReport.tonghop)">
                    <ul class="nav nav-tabs nav-news">
                        <li class="active" data-id="@((int)commonEnum.TypeReport.tonghop)"><a data-toggle="tab" href="#du_tonghop" aria-expanded="true" data-bind="click: select_SoDuTongHop">Tổng hợp</a></li>
                        <li data-id="@((int)commonEnum.TypeReport.duchitiet)">
                            <a data-toggle="tab"
                               href="#du_chitiet" data-bind="click: select_SoDuChiTiet">Chi tiết</a>
                        </li>


                    </ul>
                    <div class="tab-content floatleft">
                        <div class="tab-pane active" data-id="@((int)commonEnum.TypeReport.tonghop)" id="du_tonghop">
                            <div class="col-md-12 content-report">
                                <div class="table-reponsive table-frame">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th class="@commonEnum.TypeRGoiDichVu.magoi text-center">Mã gói DV</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.ngayban text-center">Ngày bán</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.makhach  text-center">Mã khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.tenkhach  text-left">Tên khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhomkhach   text-left">Nhóm khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguonkhach   text-left">Nguồn khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.dienthoai   text-right">Điện thoại</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.gioitinh   text-center">Giới tính</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguoigioithieu   text-left">Người giới thiệu</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongban  text-right">Số lượng bán</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.thanhtien  text-right">Thành tiền</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongtra text-right">Số lượng trả</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.giatritra text-right">Giá trị trả</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right">Số lượng sử dụng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.giavon  text-right">Giá vốn</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right">Số lượng còn lại</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.ngayapdung  text-right">Ngày áp dụng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.hansudung  text-right">Hạn sử dụng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.songayconlai  text-right">Số ngày còn hạn</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.songayquahan  text-right">Số ngày quá hạn</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: BaoCaoGoiDichVu_SoDuTongHop_Page">
                                            <tr class="prev-tr-hide">
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi   text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayban   cls2 text-center">
                                                    <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach Detail_makhach  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaKhachHang, click: $parent.LoadKhachHang_byMaKH">0111KH01</a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach  text-left " data-bind="text: TenKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach   text-left " data-bind="text: NhomKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach   text-left " data-bind="text: TenNguonKhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai   text-right " data-bind="text: DienThoai"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh   text-center " data-bind="text: GioiTinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu   text-left " data-bind="text: NguoiGioiThieu"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban  text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.thanhtien  text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right" data-bind="text: formatNumber3Digit(SoLuongTra) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giatritra  text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right" data-bind="text: formatNumber3Digit(SoLuongSuDung) "></td>
                                                <td class=" @commonEnum.TypeRGoiDichVu.giavon   text-right" data-bind="text: formatNumber3Digit(GiaVon,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right" data-bind="text: formatNumber3Digit(SoLuongConLai) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayapdung cls2 text-center">
                                                    <span data-bind="text: moment(NgayApDungGoiDV).format('DD/MM/YYYY')!='Invalid date'? moment(NgayApDungGoiDV).format('DD/MM/YYYY'):''"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.hansudung cls2 text-center">
                                                    <span data-bind="text: moment(HanSuDungGoiDV).format('DD/MM/YYYY')!='Invalid date'? moment(HanSuDungGoiDV).format('DD/MM/YYYY'):''"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.songayconlai  text-right" data-bind="text: formatNumber3Digit(SoNgayConHan) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.songayquahan  text-right" data-bind="text: formatNumber3Digit(SoNgayHetHan) "></td>
                                            </tr>
                                        </tbody>
                                        <!--ko if: !BCGDV_SoDuTongHop()-->
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <!--/ko-->

                                        <tfoot class="Report_Empty" data-bind="visible: BaoCaoGoiDichVu_SoDuTongHop_Page().length === 0">
                                            <tr>
                                                <td class="text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot data-bind="visible: BaoCaoGoiDichVu_SoDuTongHop_Page().length > 0">
                                            <tr>
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi  bg12 text-left bold ">Tổng cộng</td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayban bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach  bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach  bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai  bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh  bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu  bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_SoLuong())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.thanhtien bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_ThanhTien(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongtra bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_SoLuongTra())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giatritra bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_GiaTriTra(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongsudung bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_SoLuongSuDung())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giavon bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_GiaVon(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongconlai bg12  text-right bold" data-bind="text: formatNumber3Digit(SDTH_SoLuongConLai())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayapdung bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.hansudung bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.songayconlai bg12"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.songayquahan bg12"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane " data-id="@((int)commonEnum.TypeReport.duchitiet)" id="du_chitiet">
                            <div class="col-md-12 content-report">
                                <div class="table-reponsive" id="table-reponsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th class="@commonEnum.TypeRGoiDichVu.magoi  text-center">Mã gói DV</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.ngayban  text-center">Ngày bán</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.makhach  text-center">Mã khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.tenkhach  text-left">Tên khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhomkhach   text-left">Nhóm khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguonkhach   text-left">Nguồn khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.dienthoai   text-right">Điện thoại</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.gioitinh   text-center">Giới tính</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguoigioithieu   text-left">Người giới thiệu</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.mahanghoa  text-left">Mã hàng hóa</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.tenhanghoa  text-left">Tên hàng hóa</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.donvitinh text-left">Đvt</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.lohanghoa text-left">Lô hàng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongban  text-right">Số lượng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.dongia  text-right">Đơn giá</th>
                                                <th class="@commonEnum.ColumnInvoices.thanhtienchuack  text-right">Thành tiền chưa CK</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.chietkhau  text-right">Chiết khấu</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.thanhtien  text-right">Thành tiền</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.giamgiahd  text-right">Giảm giá HĐ</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right">Số lượng trả</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.giatritra  text-right">Giá trị trả</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right">Số lượng sử dụng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.giavon  text-right">Giá vốn</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right">Số lượng còn lại</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhanvien  text-center">Nhân viên bán</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: BaoCaoGoiDichVu_SoDuChiTiet_Page">
                                            <tr class="prev-tr-hide">
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayban cls2 text-center">
                                                    <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach Detail_makhach  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaKhachHang, click: $parent.LoadKhachHang_byMaKH">0111KH01</a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach  text-left " data-bind="text: TenKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach   text-left " data-bind="text: NhomKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach   text-left " data-bind="text: TenNguonKhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai   text-right " data-bind="text: DienThoai"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh   text-center " data-bind="text: GioiTinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu   text-left " data-bind="text: NguoiGioiThieu"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahanghoa bhmahh text-left ">
                                                    <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bhname cls3 text-left">
                                                    <span data-bind="text: TenHangHoa"></span>
                                                    <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.donvitinh  text-left" data-bind="text: TenDonViTinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.lohanghoa">
                                                    <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban  text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dongia  text-right" data-bind="text: formatNumber3Digit(DonGia) "></td>
                                                <td class="@commonEnum.ColumnInvoices.thanhtienchuack  text-right" data-bind="text: formatNumber3Digit(ThanhTienChuaCK,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.chietkhau  text-right" data-bind="text: formatNumber3Digit(TienChietKhau) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.thanhtien  text-right" data-bind="text: formatNumber3Digit(ThanhTien,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giamgiahd  text-right" data-bind="text: formatNumber3Digit(GiamGiaHD,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right" data-bind="text: formatNumber3Digit(SoLuongTra,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giatritra  text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right" data-bind="text: formatNumber3Digit(SoLuongSuDung) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giavon   text-right" data-bind="text: formatNumber3Digit(GiaVon,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right" data-bind="text: formatNumber3Digit(SoLuongConLai) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhanvien  text-left" data-bind="text: NhanVienChietKhau"></td>
                                            </tr>
                                        </tbody>
                                        <!--ko if: !BCGDV_SoDuChiTiet()-->
                                        <tfoot>
                                            <tr>
                                                <td class="bg12 text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <!--/ko-->
                                        <tfoot class="Report_Empty" data-bind="visible: BaoCaoGoiDichVu_SoDuChiTiet_Page().length === 0">
                                            <tr>
                                                <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot data-bind="visible: BaoCaoGoiDichVu_SoDuChiTiet_Page().length > 0">
                                            <tr class="bg12 bold">
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi  text-left  ">Tổng cộng</td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayban"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.donvitinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.lohanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban  text-right " data-bind="text: formatNumber3Digit(SDCT_SoLuong())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dongia"></td>
                                                <td class="@commonEnum.ColumnInvoices.thanhtienchuack  text-right " data-bind="text: formatNumber3Digit(SDCT_ThanhTienChuaCK(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.chietkhau"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.thanhtien  text-right " data-bind="text: formatNumber3Digit(SDCT_ThanhTien(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giamgiahd  text-right " data-bind="text: formatNumber3Digit(SDCT_GiamGiaHD(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right " data-bind="text: formatNumber3Digit(SDCT_SoLuongTra())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giatritra  text-right " data-bind="text: formatNumber3Digit(SDCT_GiaTriTra(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right " data-bind="text: formatNumber3Digit(SDCT_SoLuongSuDung())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.giavon  text-right " data-bind="text: formatNumber3Digit(SDCT_GiaVon(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right " data-bind="text: formatNumber3Digit(SDCT_SoLuongConLai())"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhanvien"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane tab" id="nhatkysudung" data-id="@((int)commonEnum.TypeReport.nhatkysdth)">
                    <ul class="nav nav-tabs nav-news" style="padding-right:0px!important">
                        <li class="active" data-id="@((int)commonEnum.TypeReport.nhatkysdth)">
                            <a data-toggle="tab" href="#nhatky_tonghop"
                               aria-expanded="true" data-bind="click: select_NhatKyTongHop">Tổng hợp</a>
                        </li>
                        <li data-id="@((int)commonEnum.TypeReport.nhatkysdct)">
                            <a data-toggle="tab"
                               href="#nhatky_chitiet" data-bind="click: select_NhatKyChiTiet">Chi tiết</a>
                        </li>
                        <!--ko if:tab_NhatKySuDung() === 1 -->
                        <li style="float: right!important">
                            <div class="op-search">
                                <input type="text" class="form-control " id="txtSearchDV" title="Tìm kiếm dịch vụ trả/mua đổi"
                                       data-bind="value: $root.TxtSearchDV, valueUpdate: 'afterkeydown'" placeholder="Theo dịch vụ trả/mua đổi">
                                <button type="button" class="op-search-button" data-bind="click: LoadReport">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </li>
                        <!--/ko-->
                    </ul>
                    <div class="tab-content floatleft">
                        <div class="tab-pane active" data-id="@((int)commonEnum.TypeReport.nhatkysdth)" id="nhatky_tonghop">
                            <div class="col-md-12 content-report">
                                <div class="table-reponsive">
                                    <table class="table table-striped table-hover">
                                        <thead class="thead-boder">
                                            <tr>
                                                <th rowspan="2" class="@commonEnum.Column_BCGDVBanDoiTra.MaKhachHang middle"> Mã khách </th>
                                                <th rowspan="2" class="@commonEnum.Column_BCGDVBanDoiTra.TenKhachHang middle"> Tên khách </th>
                                                <th colspan="7" class="middle"> TRẢ </th>
                                                <th colspan="7" class="middle"> MUA/ĐỔI </th>
                                                <th rowspan="2" class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriChenhLech middle"> Chênh lệch </th>
                                            </tr>
                                            <tr>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVTra_MaHoaDon middle"> Mã chứng từ </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVTra_NgayLapHoaDon middle"> Ngày lập </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.MaHangHoa">Mã hàng </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.TenHangHoa"> Tên hàng</th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.TenDonViTinh"> DVT </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.SoLuongTra">Số lượng </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriTra">Giá trị </th>

                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_MaHoaDon">Mã chứng từ </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_NgayLapHoaDon">Ngày lập</th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_TenHangHoa"> Tên hàng</th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_TenHangHoa"> Tên hàng</th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_TenDonViTinh"> DVT </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.SoLuongDoi">Số lượng </th>
                                                <th class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriDoi">Giá trị </th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: {data: BaoCaoGoiDichVu_NhatKySuDungTongHop, as: 'itemOut' } ">
                                            <!--ko foreach: {data: itemOut.lstDetail, as:'itemIn'}  -->
                                            <tr class="prev-tr-hide">
                                                <!--ko if: $index()==0-->
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.MaKhachHang  middle"
                                                    data-bind="attr:{rowspan: itemOut.lstDetail.length}">
                                                    <a style="cursor: pointer" data-bind="text: itemOut.MaDoiTuong, click: $parent.LoadKhachHang_byMaKH"></a>
                                                </td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.TenKhachHang middle "
                                                    data-bind="attr:{rowspan: itemOut.lstDetail.length},text: itemOut.TenDoiTuong"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVTra_MaHoaDon  middle"
                                                    data-bind="attr:{rowspan: itemOut.lstDetail.length},
                                                    text: itemOut.GDVTra_MaHoaDon"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVTra_NgayLapHoaDon middle "
                                                    data-bind="attr:{rowspan: itemOut.lstDetail.length},
                                                    text: itemOut.GDVTra_NgayLapHoaDon? moment(itemOut.GDVTra_NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></td>
                                                <!--/ko-->
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.MaHangHoa"
                                                    data-bind="text: itemIn.MaHangHoa"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.TenHangHoa" data-bind="text: itemIn.TenHangHoa"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.TenDonViTinh" data-bind="text: itemIn.TenDonViTinh"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.SoLuongTra  text-right " data-bind="text: itemIn.SoLuongTra"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriTra  text-right " data-bind="text: formatNumber3Digit(itemIn.GiaTriTra)">
                                                </td>
                                                <!--ko if: $index()==0-->
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_MaHoaDon middle" data-bind="attr:{rowspan: itemOut.lstDetail.length}">
                                                    <a data-bind="text: itemOut.GDVDoi_MaHoaDon"></a>
                                                </td> 
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_NgayLapHoaDon middle" data-bind="attr:{rowspan: itemOut.lstDetail.length}">
                                                    <a data-bind="text: itemOut.GDVDoi_NgayLapHoaDon? moment(itemOut.GDVDoi_NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></a>
                                                </td>
                                                <!--/ko-->
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_MaHangHoa"
                                                    data-bind="text: itemIn.GDVDoi_MaHangHoa"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_TenHangHoa" data-bind="text: itemIn.GDVDoi_TenHangHoa">
                                                </td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GDVDoi_TenDonViTinh"
                                                    data-bind="text: itemIn.GDVDoi_TenDonViTinh"></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.SoLuongDoi text-right"
                                                    data-bind="text: formatNumber3Digit(itemIn.SoLuongDoi) "></td>
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriDoi text-right"
                                                    data-bind="text: formatNumber3Digit(itemIn.GiaTriDoi) "></td>
                                                <!--ko if: $index()==0-->
                                                <td class="@commonEnum.Column_BCGDVBanDoiTra.GiaTriChenhLech  text-right middle"
                                                    data-bind="attr:{rowspan: itemOut.lstDetail.length},
                                                    text: formatNumber3Digit(itemOut.GiaTriChenhLech) "></td>
                                                <!--/ko-->
                                            </tr>
                                            <!--/ko-->

                                        </tbody>
                                        <!--ko if: !BCGDV_NhatKySuDungTongHop()-->
                                        <tfoot class="Report_Empty">
                                            <tr>
                                                <td class="bg12 text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <!--/ko-->
                                        <tfoot class="Report_Empty" data-bind="visible: BaoCaoGoiDichVu_NhatKySuDungTongHop().length === 0">
                                            <tr>
                                                <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane " data-id="@((int)commonEnum.TypeReport.nhatkysdct)" id="nhatky_chitiet">
                            <div class="col-md-12 content-report">
                                <div class="table-reponsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <!--ko if: $root.LoaiNganhNghe()===1 -->
                                                <th class="@commonEnum.ColumnInvoices.bienso  text-center">Biển số</th>
                                                <th class="@commonEnum.ColumnInvoices.machuxe  text-center">Mã chủ xe</th>
                                                <th class="@commonEnum.ColumnInvoices.tenchuxe  text-center">Tên chủ xe</th>
                                                <!--/ko-->
                                                <th class="@commonEnum.TypeRGoiDichVu.makhach text-center">Mã khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.tenkhach text-left">Tên khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhomkhach  text-left">Nhóm khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguonkhach  text-left">Nguồn khách</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.dienthoai  text-right">Điện thoại</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.gioitinh  text-center">Giới tính</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nguoigioithieu  text-left">Người giới thiệu</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.magoi text-center">Mã gói DV</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.mahoadon text-center">Mã hóa đơn</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.ngayapdung text-center">Ngày sử dụng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhomhanghoa text-left">Nhóm hàng hóa</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.mahanghoa text-left">Mã hàng hóa</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.tenhanghoa text-left">Tên hàng hóa</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.donvitinh text-left">Đvt</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.lohanghoa text-left">Lô hàng</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.soluongban text-right">Số lượng</th>
                                                <th class="@commonEnum.TypeReportTotal.Total_doanhthuthuan text-right">Giá trị sử dụng</th>
                                                <th class="@commonEnum.TypeReportTotal.Total_tienvon text-right">Tiền vốn</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.nhanvien text-center">Nhân viên thực hiện</th>
                                                <th class="@commonEnum.TypeRGoiDichVu.ghichu text-left">Ghi chú</th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="foreach: BaoCaoGoiDichVu_NhatKySuDungChiTiet_Page">
                                            <tr class="prev-tr-hide">
                                                <!--ko if: $root.LoaiNganhNghe()===1 -->
                                                <td class="@commonEnum.ColumnInvoices.bienso text-center">
                                                    <a style="cursor: pointer" data-bind="text: BienSo, click: $parent.LoadKhachHang_byMaKH">0111KH01</a>
                                                </td>
                                                <td class="@commonEnum.ColumnInvoices.machuxe" data-bind="text: MaChuXe"></td>
                                                <td class="@commonEnum.ColumnInvoices.tenchuxe" data-bind="text: TenChuXe"></td>
                                                <!--/ko-->
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach  Detail_makhach  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaKhachHang, click: $parent.LoadKhachHang_byMaKH">0111KH01</a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach  text-left " data-bind="text: TenKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach   text-left " data-bind="text: NhomKhachHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach     text-left " data-bind="text: TenNguonKhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai   text-right " data-bind="text: DienThoai"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh   text-center " data-bind="text: GioiTinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu   text-left " data-bind="text: NguoiGioiThieu"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaGoiDV, click: $parent.LoadHoaDon_byMaHD">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahoadon  text-center ">
                                                    <a style="cursor: pointer" data-bind="text: MaHoaDon, click: $parent.LoadHoaDon_byMaHD">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayapdung cls2 text-center">
                                                    <span data-bind="text: moment(NgayLapHoaDon).format('DD/MM/YYYY')!='Invalid date'? moment(NgayLapHoaDon).format('DD/MM/YYYY HH:mm'):''"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomhanghoa  text-left " data-bind="text: TenNhomHang"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahanghoa bhmahh text-left ">
                                                    <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bhname cls3 text-left">
                                                    <span data-bind="text: TenHangHoa"></span>
                                                    <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.donvitinh  text-left" data-bind="text: TenDonViTinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.lohanghoa">
                                                    <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                                    </a>
                                                </td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban text-right" data-bind="text: formatNumber3Digit(SoLuong) "></td>
                                                <td class="@commonEnum.TypeReportTotal.Total_doanhthuthuan text-right" data-bind="text: formatNumber3Digit(GiaTriSD,2) "></td>
                                                <td class="@commonEnum.TypeReportTotal.Total_tienvon text-right" data-bind="text: formatNumber3Digit(TienVon,2) "></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhanvien  text-left" data-bind="text: NhanVienChietKhau"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ghichu  text-left " data-bind="text: GhiChu"></td>
                                            </tr>
                                        </tbody>
                                        <!--ko if: !BCGDV_NhatKySuDungChiTiet()-->
                                        <tfoot class="Report_Empty">
                                            <tr>
                                                <td class="bg12 text-center" colspan="21"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                            </tr>
                                        </tfoot>
                                        <!--/ko-->
                                        <tfoot data-bind="visible: BaoCaoGoiDichVu_NhatKySuDungChiTiet_Page().length === 0">
                                            <tr>
                                                <td class="bg12 text-center" colspan="21"><i>Báo cáo không có dữ liệu</i></td>
                                            </tr>
                                        </tfoot>
                                        <tfoot data-bind="visible: BaoCaoGoiDichVu_NhatKySuDungChiTiet_Page().length > 0">
                                            <tr class="bg12 bold">
                                                <!--ko if: $root.LoaiNganhNghe()===1 -->
                                                <td class="@commonEnum.ColumnInvoices.bienso text-left ">Tổng cộng</td>
                                                <td class="@commonEnum.ColumnInvoices.machuxe"></td>
                                                <td class="@commonEnum.ColumnInvoices.tenchuxe"></td>
                                                <!--/ko-->
                                                <td class="@commonEnum.TypeRGoiDichVu.makhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenkhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomkhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguonkhach"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.dienthoai"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.gioitinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nguoigioithieu"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.magoi"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahoadon"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ngayapdung"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhomhanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.mahanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.donvitinh"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.lohanghoa"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.soluongban text-right" data-bind="text: formatNumber3Digit(NKCT_SoLuong())"></td>
                                                <td class="@commonEnum.TypeReportTotal.Total_doanhthuthuan text-right" data-bind="text: formatNumber3Digit(SDTH_ThanhTien(),2)"></td>
                                                <td class="@commonEnum.TypeReportTotal.Total_tienvon text-right" data-bind="text: formatNumber3Digit(SDTH_GiaVon(),2)"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.nhanvien"></td>
                                                <td class="@commonEnum.TypeRGoiDichVu.ghichu"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane tab" data-id="@((int)commonEnum.TypeReport.tonchuasudung)" id="tonchuasudung">
                    <div class="col-md-12 content-report">
                        <div class="table-reponsive">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th class="@commonEnum.TypeRGoiDichVu.mahanghoa text-left">Mã hàng hóa</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.tenhanghoa text-left">Tên hàng hóa</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.donvitinh text-left">Đvt</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.lohanghoa text-left">Lô hàng</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.soluongban text-right">Số lượng bán</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.giatriban text-right">Giá trị bán</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right">Số lượng trả</th>
                                        <th class=" @commonEnum.TypeRGoiDichVu.giatritra text-right">Giá trị trả</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.soluongsudung text-right">Số lượng sử dụng</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.giatrisudung text-right">Giá trị sử dụng</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.soluongconlai text-right">Số lượng còn lại</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.giatriconlai text-right">Giá trị còn lại</th>
                                    </tr>
                                </thead>
                                <tbody data-bind="foreach: BaoCaoGoiDichVu_TonChuaSuDung_Page">
                                    <tr class="prev-tr-hide">
                                        <td class="@commonEnum.TypeRGoiDichVu.mahanghoa bhmahh text-left ">
                                            <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                            </a>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bhname cls3 text-left">
                                            <span data-bind="text: TenHangHoa"></span>
                                            <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.donvitinh  text-left" data-bind="text: TenDonViTinh"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.lohanghoa">
                                            <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                            </a>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongban  text-right" data-bind="text: formatNumber3Digit(SoLuongBan) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriban  text-right" data-bind="text: formatNumber3Digit(GiaTriBan,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongtra  text-right" data-bind="text: formatNumber3Digit(SoLuongTra) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatritra  text-right" data-bind="text: formatNumber3Digit(GiaTriTra,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongsudung  text-right" data-bind="text: formatNumber3Digit(SoLuongSuDung) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatrisudung  text-right" data-bind="text: formatNumber3Digit(GiaTriSuDung,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongconlai  text-right" data-bind="text: formatNumber3Digit(SoLuongConLai) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriconlai  text-right" data-bind="text: formatNumber3Digit(GiaTriConLai,2) "></td>
                                    </tr>
                                </tbody>
                                <!--ko if: !BCGDV_TonChuaSuDung()-->
                                <tfoot>
                                    <tr>
                                        <td class="bg12 text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                    </tr>
                                </tfoot>
                                <!--/ko-->
                                <tfoot class="Report_Empty" data-bind="visible: BaoCaoGoiDichVu_TonChuaSuDung_Page().length === 0">
                                    <tr>
                                        <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                    </tr>
                                </tfoot>
                                <tfoot data-bind="visible: BaoCaoGoiDichVu_TonChuaSuDung_Page().length > 0">
                                    <tr>
                                        <td class="@commonEnum.TypeRGoiDichVu.mahanghoa  bg12 text-left bold ">Tổng cộng</td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bg12"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.donvitinh bg12"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.lohanghoa bg12 bhmahh"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongban bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_SoLuong())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriban bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_GiaTri(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongtra bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_SoLuongTra())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatritra bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_GiaTriTra(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongsudung bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_SoLuongSuDung())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatrisudung bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_GiaTriSuDung(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.soluongconlai bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_SoLuongConLai())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriconlai bg12  text-right bold" data-bind="text: formatNumber3Digit(TCSD_GiaTriConLai(),2)"></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="tab-pane tab" data-id="@((int)commonEnum.TypeReport.nhapxuatton)" id="nhapxuatton">
                    <div class="col-md-12 content-report">
                        <div class="table-reponsive">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th class="@commonEnum.TypeRGoiDichVu.mahanghoa mahang xntma middle bg17" rowspan="2">Mã hàng hóa</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.tenhanghoa mahang xntma middle bg17" rowspan="2">Tên hàng hóa</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.donvitinh text-left mahang xntma middle bg17" rowspan="2">Đvt</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.lohanghoa text-left mahang xntma middle bg17 " rowspan="2">Lô hàng</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.tondau mahang xntma middle bg17 text-right" rowspan="2">Tồn đầu</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.giatriban mahang xntma middle bg17 text-right" rowspan="2">Giá trị đầu kỳ</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap text-center bg18" colspan="6">Trong kỳ</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.toncuoi mahang xntma middle bg17 text-right" rowspan="2">Tồn cuối</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.giatriconlai mahang xntma middle bg17 text-right" rowspan="2">Giá trị cuối kỳ</th>
                                    </tr>
                                    <tr>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap mahang bg18 text-right">Số lượng bán</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap tenhang bg18 text-right">Giá trị bán</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap mahang bg18 text-right">Số lượng trả</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap tenhang bg18 text-right">Giá trị trả</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap nhomhang bg18 text-right">Số lượng sử dụng</th>
                                        <th class="@commonEnum.TypeRGoiDichVu.trongky xntslnhap bg18 text-right">Giá trị sử dụng</th>
                                    </tr>
                                </thead>
                                <tbody data-bind="foreach: BaoCaoGoiDichVu_NhapXuatTon_Page">
                                    <tr class="prev-tr-hide">
                                        <td class="@commonEnum.TypeRGoiDichVu.mahanghoa bhmahh text-left ">
                                            <a style="cursor: pointer" data-bind="text: MaHangHoa, click: $parent.LoadHangHoa_byMaHH">
                                            </a>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bhname cls3 text-left">
                                            <span data-bind="text: TenHangHoa"></span>
                                            <span data-bind="text: ThuocTinh_GiaTri" style="color:#ff6a00"></span>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.donvitinh  text-left" data-bind="text: TenDonViTinh"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.lohanghoa">
                                            <a style="cursor: pointer" class="text-left " data-bind="text: TenLoHang, click: $parent.LoadLoHang_byMaLH">
                                            </a>
                                        </td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tondau  text-right" data-bind="text: formatNumber3Digit(SoLuongConLaiDK) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriban  text-right" data-bind="text: formatNumber3Digit(GiaTriConLaiDK,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(SoLuongBanGK) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(GiaTriBanGK,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(SoLuongTraGK) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(GiaTriTraGK,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(SoLuongSuDungGK) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky  text-right" data-bind="text: formatNumber3Digit(GiaTriSuDungGK,2) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.toncuoi  text-right" data-bind="text: formatNumber3Digit(SoLuongConLaiCK) "></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriconlai  text-right" data-bind="text: formatNumber3Digit(GiaTriConLaiCK,2) "></td>
                                    </tr>
                                </tbody>
                                <!--ko if: !BCGDV_NhapXuatTon()-->
                                <tfoot>
                                    <tr>
                                        <td class="bg12 bhma text-center" colspan="20"><i>Bạn không có quyền xem báo cáo này!</i></td>
                                    </tr>
                                </tfoot>
                                <!--/ko-->
                                <tfoot class="Report_Empty" data-bind="visible: BaoCaoGoiDichVu_NhapXuatTon_Page().length === 0">
                                    <tr>
                                        <td class="bg12 text-center" colspan="20"><i>Báo cáo không có dữ liệu</i></td>
                                    </tr>
                                </tfoot>
                                <tfoot data-bind="visible: BaoCaoGoiDichVu_NhapXuatTon_Page().length > 0">
                                    <tr>
                                        <td class="@commonEnum.TypeRGoiDichVu.mahanghoa  bg12 text-left bold ">Tổng cộng</td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tenhanghoa bg12"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.donvitinh bg12"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.lohanghoa bg12 bhmahh"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.tondau bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_SoLuongConLaiDK())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriban bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_GiaTriConLaiDK(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_SoLuongBanGK())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_GiaTriBanGK(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_SoLuongTraGK())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_GiaTriTraGK(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_SoLuongSuDungGK())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.trongky bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_GiaTriSuDungGK(),2)"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.toncuoi bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_SoLuongConLaiCK())"></td>
                                        <td class="@commonEnum.TypeRGoiDichVu.giatriconlai bg12  text-right bold" data-bind="text: formatNumber3Digit(NXT_GiaTriConLaiCK(),2)"></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="page " hidden>
                    <div class="flex flex-row">
                        <label>Số bản ghi:</label>
                        <select class="form-control  seleted-page" data-bind="value: pageSize,
                                                options: pageSizes, event: {change: ResetCurrentPage}"></select>
                    </div>
                    <div class=" flex flex-row flex-end">
                        <a href="javascript:void(0)" data-bind="click: $root.StartPage" id="StartPage"><i class="fa fa-step-backward" aria-hidden="true"></i></a>
                        <a href="javascript:void(0)" data-bind="click: $root.BackPage" id="BackPage"><i class="fa fa-caret-left" aria-hidden="true"></i></a>
                        <ul data-bind="foreach: SumNumberPageReport">
                            <li data-bind="click: $parent.gotoNextPage">
                                <a href="javascript:void(0)" data-bind="text: SoTrang,css: $root.GetClass($data)"></a>
                            </li>
                        </ul>
                        <a href="javascript:void(0)" data-bind="click: $root.NextPage" id="NextPage"><i class="fa fa-caret-right" aria-hidden="true"></i></a>
                        <a href="javascript:void(0)" data-bind="click: $root.EndPage" id="EndPage"><i class="fa fa-step-forward" aria-hidden="true"></i></a>
                        <div class="total-recos">
                            Hiển thị <span data-bind="text: RowsStart"></span> - <span data-bind="text: RowsEnd"></span> trên tổng số
                            <span data-bind="text: SumRowsHangHoa"></span>
                            <span data-bind="text: LoaiBaoCao"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        $('.newDateTime').daterangepicker({
            locale: {
                "format": 'DD/MM/YYYY',
                "separator": " - ",
                "applyLabel": "Tạo báo cáo",
                "cancelLabel": "Hủy",
                "fromLabel": "Từ",
                "toLabel": "Đến",
                "customRangeLabel": "Custom",
                "daysOfWeek": [
                    "CN",
                    "T2",
                    "T3",
                    "T4",
                    "T5",
                    "T6",
                    "T7"
                ],
                "monthNames": [
                    "Tháng 1",
                    "Tháng 2",
                    "Tháng 3",
                    "Tháng 4",
                    "Tháng 5",
                    "Tháng 6",
                    "Tháng 7",
                    "Tháng 8",
                    "Tháng 9",
                    "Tháng 10",
                    "Tháng 11",
                    "Tháng 12"
                ],
                "firstDay": 1
            }
        });
    });
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $(document).on('click', '.choose-date .dropdown-menu ul li', function () {
        var date = $(this).find("a").html();
        $(".choose-date-show").val(date);
    });
    $('#table-nhanvien').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    $('#table_khachhang').on('click', '.show-tr', function (e) {
        var t = $(this).closest('tr').next(".tr-hide").css("display");
        $(".show-tr").find('.fa-plus').show();
        $(".show-tr").find('.fa-minus').hide();
        if (t == "none") {
            $(this).find('.fa-plus').hide();
            $(this).find('.fa-minus').show();
            $(".tr-hide").hide();
            $(this).closest('tr').next(".tr-hide").toggle();
        }
        else if (t == "block") {
            $(this).closest('tr').next(".tr-hide").hide();
        }
        else {
            $(".tr-hide").hide();
        }
    });
    function LoadingForm1(IsShow) {
        $('.tab-show .tab-pane').each(function () {
            if ($(this).hasClass('active')) {
                var top = $(this).find('.table-reponsive').height() / 2;
                var style = "top:" + (top > 30 ? top - 30 : top) + "px";
                $(this).find('.table-reponsive').gridLoader({ show: IsShow, style: style });
            }
        });
    }
    function printPage() {
        $.ajax({
            url: "/Template/DuLieuGoc/outPresentationlayout1.out.html", cache: false,
            success: function (data) {
                var frame1 = $('<iframe />');
                frame1[0].name = "frame1";
                frame1.css({ "position": "absolute", "top": "-100000px" });
                $("body").append(frame1);
                var frameDoc = frame1[0].contentWindow ? frame1[0].contentWindow : frame1[0].contentDocument.document ? frame1[0].contentDocument.document : frame1[0].contentDocument;
                frameDoc.document.open();
                frameDoc.document.write(data);
                frameDoc.document.close();
                window.frames["frame1"].print();
            },
            complete: function (jqXHR) {
                if (jqXHR.status == 403) {
                    window.location.href = jqXHR.responseJSON.LogOnUrl
                }
            }
        });
    }
    function printPageNhanVienCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableNhanVienCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    function printPageKhachHangCT() {
        LoadingForm1(true);
        var strPrint = '';
        strPrint += document.getElementById('printtableKhachHangCT').innerHTML;
        PrintExtraReportTr(strPrint);
    }
    $('body').on('successPrint', function () {
        LoadingForm1(false);
    })
    function ShowNhom($this) {
        $this.next("ul").toggleClass("open");
    };
    $(function () {
        var time = new Date();
        $.datetimepicker.setLocale('vi');
        //$.datetimepicker.val(moment(time).format('DD/MM/YYYY'))
        $('#datetimepicker_mask').datetimepicker({
            timepicker: false,
            mask: true, // '9999/19/39 29:59' - digit is the maximum possible for a cell
            format: 'd/m/Y',
            value: moment(time).format('DD/MM/YYYY')
        });
    });

</script>
<style>
    .tab-pane {
        position: relative;
    }

    .StartImport {
        margin-right: 5px;
        z-index: 0;
        display: inline-block;
        background: #808080;
        color: #fff;
        font-weight: bold;
        font-size: 12px;
        padding: 7px 15px;
        white-space: nowrap;
        border: none;
        vertical-align: middle;
        border-radius: 2px;
        cursor: pointer;
    }

    .SelectReport {
        background: #bee69f;
        color: #000000;
    }

    .li-input-span {
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }

    .li-input-select {
        background: #fff;
        color: #333;
        line-height: 30px;
        text-align: left;
        width: auto !important;
        padding: 0px 7px;
        margin: 1px 0 1px 1px;
    }

    .check-after-li {
        float: right;
        padding-right: 20px;
        line-height: 21px;
        color: #009ddc;
        display: inline !important;
    }

    .nameDonVi input {
        border: none;
        height: 30px;
        outline: none;
        padding-left: 10px;
        width: 50%;
    }
</style>
<script src="@Scripts.Url("~/bundles/ReportGoiDichVu")" type="text/javascript"></script>

